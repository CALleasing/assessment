{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/drift/Documents/ReactNative/cal-assessment/src/screens/StaffCommentScreen.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Button, Card } from 'react-native-paper';\nimport { CheckBox } from 'react-native-elements';\nimport axiox from 'axios';\nimport { COLORS, SIZES } from \"../constants/theme\";\nimport moment from 'moment';\nimport 'moment/locale/th';\nimport { MAIN_URL, USER } from \"../constants/variables\";\n\nvar StaffCommentScreen = function StaffCommentScreen(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var userId = USER.userid;\n  var managerID = route.params.managerID;\n  var year = route.params.year;\n  var part = route.params.part;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      answer = _useState2[0],\n      setAnswer = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loadingPage = _useState6[0],\n      setLoadingPage = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      postLoading = _useState8[0],\n      setPostLoading = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      answerForManger = _useState10[0],\n      setAnswerFormanager = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      allAnswer = _useState12[0],\n      setAllAnswer = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      questionWithAnswer = _useState14[0],\n      setQuestionWithAnswer = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      question = _useState16[0],\n      setQuestion = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      checked = _useState18[0],\n      setChecked = _useState18[1];\n\n  var _useState19 = useState(''),\n      _useState20 = _slicedToArray(_useState19, 2),\n      selectedColor = _useState20[0],\n      setSelectedColor = _useState20[1];\n\n  var _useState21 = useState([]),\n      _useState22 = _slicedToArray(_useState21, 2),\n      list = _useState22[0],\n      setList = _useState22[1];\n\n  var _useState23 = useState(0),\n      _useState24 = _slicedToArray(_useState23, 2),\n      checkIndex = _useState24[0],\n      setCheckIndex = _useState24[1];\n\n  useEffect(function () {\n    USER.position === \"ผู้จัดการ\" ? getAnswerWithManagerId() : getAllQuestionWithAnswer();\n  }, []);\n\n  var getAllQuestionWithAnswer = function getAllQuestionWithAnswer() {\n    setLoadingPage(true);\n    axiox.get(MAIN_URL + '/answer/comment/user/' + year + '/' + part + '/' + managerID + '/' + userId).then(function (res) {\n      setQuestionWithAnswer(res.data);\n      setLoadingPage(false);\n    }).catch(function (err) {\n      console.log(err);\n      setLoadingPage(false);\n    });\n  };\n\n  var getAllQuestion = function getAllQuestion() {\n    setLoadingPage(true);\n    axiox.get(MAIN_URL + '/question/comment/' + year + '/' + part).then(function (res) {\n      setQuestion(res.data);\n      setLoadingPage(false);\n    }).catch(function (err) {\n      console.log(err);\n      setLoadingPage(false);\n    });\n  };\n\n  var getAllAnswer = function getAllAnswer() {\n    setLoading(true);\n    axiox.get(MAIN_URL + '/answer/comment/user/' + year + '/' + part + '/department/' + USER.department).then(function (res) {\n      setAllAnswer(res.data);\n      setLoading(false);\n    }).catch(function (err) {\n      console.log(err);\n      setLoading(false);\n    });\n  };\n\n  var getAnswerWithManagerIdAndNumber = function getAnswerWithManagerIdAndNumber(_ref2) {\n    var number = _ref2.number;\n    setLoading(true);\n    axiox.get(MAIN_URL + '/answer/comment/manager/' + year + '/' + part + '/' + userId + '/' + number).then(function (res) {\n      console.log(res.data);\n      setAnswer(res.data);\n      setLoading(false);\n    }).catch(function (err) {\n      console.log(err);\n      setLoading(false);\n    });\n  };\n\n  var getAnswerWithManagerId = function getAnswerWithManagerId() {\n    setLoadingPage(true);\n    axiox.get(MAIN_URL + '/answer/comment/manager/' + year + '/' + part + '/' + userId).then(function (res) {\n      var data = res.data;\n      mapAnserToGroup(data);\n      setLoadingPage(false);\n    }).catch(function (err) {\n      console.log(err);\n      setLoadingPage(false);\n    });\n  };\n\n  var mapAnserToGroup = function mapAnserToGroup(data) {\n    var allAnswerGroup = [];\n    var answerGroup = [];\n    var lastUserid = '';\n    var userid = '';\n    var name = '';\n    var lastname = '';\n    var nickname = '';\n\n    for (var i = 0; i < data.length; i++) {\n      if (i === 0) {\n        lastUserid = data[i].userid;\n      }\n\n      if (data[i].userid === lastUserid) {\n        userid = data[i].userid;\n        name = data[i].name;\n        lastname = data[i].lastname;\n        nickname = data[i].nickname;\n\n        if (data.length - 1 === i) {\n          console.log(data.length - 1);\n          console.log(i);\n          var obj = {\n            userid: userid,\n            name: name,\n            lastname: lastname,\n            nickname: nickname,\n            all_answer: answerGroup\n          };\n          answerGroup.push(data[i]);\n          allAnswerGroup.push(obj);\n          setAnswerFormanager(allAnswerGroup);\n          console.log(answerForManger);\n        } else {\n          answerGroup.push(data[i]);\n        }\n      } else {\n        var obj = {\n          userid: userid,\n          name: name,\n          lastname: lastname,\n          nickname: nickname,\n          all_answer: answerGroup\n        };\n        allAnswerGroup.push(obj);\n        answerGroup = [];\n        lastUserid = data[i].userid;\n        answerGroup.push(data[i]);\n      }\n    }\n  };\n\n  var postAnswer = function postAnswer(_ref3) {\n    var dataSend = _ref3.dataSend,\n        number = _ref3.number;\n    setLoading(true);\n    axiox.post(MAIN_URL + '/answer/comment/user/' + year + '/' + part + '/' + userId + '/' + number, dataSend).then(function (res) {\n      alert(\"บันทึกข้อมูลสำเร็จ\");\n      setLoading(false);\n    }).catch(function (err) {\n      console.log(err);\n      alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n      setLoading(false);\n    });\n  };\n\n  var renderManagerCheck = function renderManagerCheck() {\n    var renderUserWithAllAnswer = function renderUserWithAllAnswer(_ref4) {\n      var item = _ref4.item,\n          index = _ref4.index;\n      return React.createElement(View, {\n        style: {\n          marginBottom: 14\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }\n      }, item.number, \". \", item.qt), React.createElement(Text, {\n        style: {\n          color: 'green',\n          padding: 4,\n          paddingHorizontal: 16\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }\n      }, item.answer));\n    };\n\n    var renderItem = function renderItem(_ref5) {\n      var item = _ref5.item,\n          index = _ref5.index;\n      console.log(item);\n      return React.createElement(View, {\n        style: {\n          padding: 8,\n          marginHorizontal: 16,\n          marginVertical: 8,\n          borderRadius: 5,\n          borderColor: 'black',\n          borderWidth: .5\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 17\n        }\n      }, item.all_answer[0].reveal === 0 ? React.createElement(Text, {\n        style: {\n          fontSize: 15,\n          fontWeight: 'bold',\n          paddingHorizontal: 8,\n          color: 'blue'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 25\n        }\n      }, item.name, \" \", item.lastname, \" (\", item.nickname, \") [\", item.all_answer[0].department, \"] \", React.createElement(Text, {\n        style: {\n          fontSize: 12,\n          color: 'gray'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 193\n        }\n      }, \" - \\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48 \", moment(item.date).format('ll'))) : React.createElement(Text, {\n        style: {\n          paddingHorizontal: 8,\n          fontSize: 15,\n          fontWeight: 'bold',\n          color: 'blue'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 25\n        }\n      }, \"\\u0E44\\u0E21\\u0E48\\u0E40\\u0E1B\\u0E34\\u0E14\\u0E40\\u0E1C\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D \", React.createElement(Text, {\n        style: {\n          fontSize: 12,\n          color: 'gray'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 128\n        }\n      }, \" - \\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48 \", moment(item.date).format('ll'))), React.createElement(View, {\n        style: {\n          padding: 8,\n          marginVertical: 8,\n          borderRadius: 5,\n          borderColor: 'gray',\n          borderWidth: .2\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }\n      }, React.createElement(FlatList, {\n        data: item.all_answer,\n        extraData: item.all_answer,\n        keyExtractor: function keyExtractor(item, index) {\n          return \"\" + index;\n        },\n        renderItem: renderUserWithAllAnswer,\n        scrollEnabled: false,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 25\n        }\n      }), React.createElement(Text, {\n        style: {\n          color: 'green',\n          paddingHorizontal: 16,\n          paddingVertical: 4\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 25\n        }\n      }, item.answer)));\n    };\n\n    var renderComment = function renderComment(_ref6) {\n      var item = _ref6.item,\n          index = _ref6.index;\n      return React.createElement(View, {\n        style: {\n          marginVertical: 8\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 17\n        }\n      }, item.reveal === 0 ? React.createElement(Text, {\n        style: {\n          fontSize: 15,\n          fontWeight: 'bold'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 25\n        }\n      }, item.name, \" \", item.lastname, \" (\", item.nickname, \") [\", item.department, \"] \", React.createElement(Text, {\n        style: {\n          fontSize: 12,\n          color: 'gray'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 142\n        }\n      }, \" - \\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48 \", moment(item.date).format('ll'))) : React.createElement(Text, {\n        style: {\n          fontSize: 15,\n          fontWeight: 'bold'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 25\n        }\n      }, \"\\u0E44\\u0E21\\u0E48\\u0E40\\u0E1B\\u0E34\\u0E14\\u0E40\\u0E1C\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D \", React.createElement(Text, {\n        style: {\n          fontSize: 12,\n          color: 'gray'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 91\n        }\n      }, \" - \\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48 \", moment(item.date).format('ll'))), React.createElement(View, {\n        style: {\n          marginVertical: 8,\n          borderRadius: 5,\n          borderColor: 'gray',\n          borderWidth: .3\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'green',\n          padding: 8\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 25\n        }\n      }, item.answer)));\n    };\n\n    return loadingPage ? React.createElement(ActivityIndicator, {\n      style: {\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      size: \"large\",\n      color: \"#0275d8\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 17\n      }\n    }) : answerForManger.length != 0 ? React.createElement(View, {\n      style: {\n        marginBottom: 18\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 21\n      }\n    }, React.createElement(FlatList, {\n      data: answerForManger,\n      extraData: answerForManger,\n      keyExtractor: function keyExtractor(item, index) {\n        return \"\" + index;\n      },\n      renderItem: renderItem,\n      ListHeaderComponent: React.createElement(View, {\n        style: {\n          margin: 16\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        style: {\n          alignSelf: 'center',\n          fontSize: 14\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 37\n        }\n      }, \"\\u0E04\\u0E27\\u0E32\\u0E21\\u0E04\\u0E34\\u0E14\\u0E40\\u0E2B\\u0E47\\u0E19\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\")),\n      showsVerticalScrollIndicator: false,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 25\n      }\n    })) : React.createElement(Text, {\n      style: {\n        fontSize: 16,\n        alignSelf: 'center',\n        marginTop: 50\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 21\n      }\n    }, \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\");\n  };\n\n  var renderUserComment = function renderUserComment() {\n    var renderItem = function renderItem(_ref7) {\n      var item = _ref7.item,\n          index = _ref7.index;\n      return React.createElement(View, {\n        style: {\n          padding: 8,\n          margin: 15,\n          backgroundColor: 'white',\n          borderColor: 'gray',\n          borderWidth: .3\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 16\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 21\n        }\n      }, item.number, \". \", item.qt), React.createElement(TextInput, {\n        style: {\n          backgroundColor: 'white',\n          marginTop: 20,\n          borderWidth: 1,\n          padding: 10,\n          borderRadius: 5,\n          marginVertical: 8,\n          height: 150\n        },\n        placeholder: \"\\u0E04\\u0E33\\u0E15\\u0E2D\\u0E1A\",\n        placeholderTextColor: \"gray\",\n        multiline: true,\n        numberOfLines: 6,\n        color: \"blue\",\n        fontSize: 16,\n        onChangeText: function onChangeText(text) {\n          answer[index] = text;\n        },\n        defaultValue: item.answer,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 21\n        }\n      }), React.createElement(Button, {\n        style: {\n          backgroundColor: 'green',\n          borderRadius: 10,\n          marginVertical: 8\n        },\n        mode: \"Contained\",\n        onPress: function onPress() {\n          var dataSend = {\n            manager_id: managerID,\n            reveal: checked,\n            answer: answer[index],\n            date: moment().format('yyyy-MM-DD'),\n            department: USER.department\n          };\n          console.log(dataSend);\n          console.log(\"year\", year);\n          console.log(\"part\", part);\n          console.log(\"number\", item.number);\n          console.log(\"userid\", USER.userid);\n          postAnswer({\n            dataSend: dataSend,\n            number: item.number\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          alignSelf: 'center',\n          color: 'white'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 25\n        }\n      }, \"\\u0E2A\\u0E48\\u0E07\\u0E04\\u0E33\\u0E15\\u0E2D\\u0E1A\")));\n    };\n\n    return loadingPage ? React.createElement(ActivityIndicator, {\n      style: {\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      size: \"large\",\n      color: \"#0275d8\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 17\n      }\n    }) : questionWithAnswer.length != 0 ? React.createElement(FlatList, {\n      data: questionWithAnswer,\n      extraData: questionWithAnswer,\n      keyExtractor: function keyExtractor(item, index) {\n        return \"\" + index;\n      },\n      renderItem: renderItem,\n      ListHeaderComponent: React.createElement(View, {\n        style: {\n          margin: 16,\n          backgroundColor: 'white',\n          paddingBottom: 16\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 16,\n          margin: 16\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 33\n        }\n      }, \"* \\u0E01\\u0E48\\u0E2D\\u0E19\\u0E15\\u0E2D\\u0E1A\\u0E04\\u0E33\\u0E16\\u0E32\\u0E21 \\u0E17\\u0E48\\u0E32\\u0E19\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23\\u0E40\\u0E1B\\u0E34\\u0E14\\u0E40\\u0E1C\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E43\\u0E2B\\u0E49\\u0E1C\\u0E39\\u0E49\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E17\\u0E23\\u0E32\\u0E1A\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E44\\u0E21\\u0E48\"), React.createElement(CheckBox, {\n        title: \"\\u0E44\\u0E21\\u0E48\\u0E40\\u0E1B\\u0E34\\u0E14\\u0E40\\u0E1C\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D\",\n        checked: checked,\n        onPress: function onPress() {\n          setChecked(!checked);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 33\n        }\n      })),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 21\n      }\n    }) : React.createElement(Text, {\n      style: {\n        fontSize: 16,\n        alignSelf: 'center',\n        marginTop: 50\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 21\n      }\n    }, \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\");\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: 'white'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 9\n    }\n  }, USER.position === 'ผู้จัดการ' ? renderManagerCheck(navigation) : renderUserComment(navigation));\n};\n\nvar styles = StyleSheet.create({\n  checkboxContainer: {\n    backgroundColor: 'white',\n    borderColor: 'gray',\n    borderWidth: 3,\n    flexDirection: \"row\",\n    marginBottom: 20\n  },\n  checkbox: {\n    width: 20,\n    height: 20,\n    alignSelf: \"center\"\n  },\n  label: {\n    margin: 8\n  }\n});\nexport default StaffCommentScreen;","map":{"version":3,"sources":["/Users/drift/Documents/ReactNative/cal-assessment/src/screens/StaffCommentScreen.js"],"names":["React","useState","useEffect","Button","Card","CheckBox","axiox","COLORS","SIZES","moment","MAIN_URL","USER","StaffCommentScreen","navigation","route","userId","userid","managerID","params","year","part","answer","setAnswer","loading","setLoading","loadingPage","setLoadingPage","postLoading","setPostLoading","answerForManger","setAnswerFormanager","allAnswer","setAllAnswer","questionWithAnswer","setQuestionWithAnswer","question","setQuestion","checked","setChecked","selectedColor","setSelectedColor","list","setList","checkIndex","setCheckIndex","position","getAnswerWithManagerId","getAllQuestionWithAnswer","get","then","res","data","catch","err","console","log","getAllQuestion","getAllAnswer","department","getAnswerWithManagerIdAndNumber","number","mapAnserToGroup","allAnswerGroup","answerGroup","lastUserid","name","lastname","nickname","i","length","obj","all_answer","push","postAnswer","dataSend","post","alert","renderManagerCheck","renderUserWithAllAnswer","item","index","marginBottom","fontWeight","qt","color","padding","paddingHorizontal","renderItem","marginHorizontal","marginVertical","borderRadius","borderColor","borderWidth","reveal","fontSize","date","format","paddingVertical","renderComment","left","right","top","bottom","alignItems","justifyContent","margin","alignSelf","marginTop","renderUserComment","backgroundColor","height","text","manager_id","paddingBottom","flex","styles","StyleSheet","create","checkboxContainer","flexDirection","checkbox","width","label"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, TextInput, FlatList, StyleSheet, TouchableOpacity, ActivityIndicator } from 'react-native';\nimport { Button, Card } from 'react-native-paper';\nimport { CheckBox } from 'react-native-elements'\n\nimport axiox from 'axios';\nimport { COLORS, SIZES } from '../constants/theme';\n\nimport moment from 'moment';\nimport 'moment/locale/th';\nimport { MAIN_URL, USER } from '../constants/variables';\n\nconst StaffCommentScreen = ({ navigation, route }) => {\n\n    // let sheetID = route.params.sheetID;\n    let userId = USER.userid;\n    // console.log(userId)\n    let managerID = route.params.managerID;\n    let year = route.params.year;\n    let part = route.params.part;\n\n    const [answer, setAnswer] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [loadingPage, setLoadingPage] = useState(false);\n    const [postLoading, setPostLoading] = useState(false);\n    const [answerForManger, setAnswerFormanager] = useState([]);\n\n    const [allAnswer, setAllAnswer] = useState([]);\n    const [questionWithAnswer, setQuestionWithAnswer] = useState([]);\n    const [question, setQuestion] = useState([]);\n    // var checkArray = [];\n    const [checked, setChecked] = useState(false);\n    // const [itemSelected, setItemSeleced] = useState(0);\n    const [selectedColor, setSelectedColor] = useState('');\n    const [list, setList] = useState([]);\n    const [checkIndex, setCheckIndex] = useState(0);\n    // console.log(USER.position)\n\n    useEffect(() => {\n        // setLoading(true);\n        // console.log(USER.position)\n        USER.position === \"ผู้จัดการ\" ? getAnswerWithManagerId() : getAllQuestionWithAnswer()\n\n    }, []);\n\n    const getAllQuestionWithAnswer = () => {\n        setLoadingPage(true);\n        // console.log(MAIN_URL + '/answer/comment/user/' + year + '/' + part + '/' + managerID + '/' + userId)\n        // console.log(\"getAllQuestionWithAnswer\");\n        axiox.get(MAIN_URL + '/answer/comment/user/' + year + '/' + part + '/' + managerID + '/' + userId)\n            // console.log('https://program-api.herokuapp.com/' + year + '/' + part + '/' + answer.questionNumber + '/Answer/officer/' + userId, answer)\n            .then(res => {\n\n                setQuestionWithAnswer(res.data)\n                // alert(\"บันทึกข้อมูลสำเร็จ\");\n                setLoadingPage(false);\n                // res.data.map(item => {\n                //     checkArray.push({\n                //         check: false\n                //     });\n                // console.log(checked)\n                // })\n            })\n            .catch(err => {\n                console.log(err)\n                // alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                setLoadingPage(false);\n\n            });\n    };\n\n    const getAllQuestion = () => {\n        setLoadingPage(true);\n        axiox.get(MAIN_URL + '/question/comment/' + year + '/' + part)\n            .then(res => {\n                // console.log(res.data);\n                // console.log(\"ALL DATA\", res.data);\n                setQuestion(res.data)\n\n                // alert(\"บันทึกข้อมูลสำเร็จ\");\n                setLoadingPage(false);\n            })\n            .catch(err => {\n                console.log(err)\n                // alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                setLoadingPage(false);\n\n            });\n    }\n\n    const getAllAnswer = () => {\n        setLoading(true);\n        // console.log(\"getAll\")\n        axiox.get(MAIN_URL + '/answer/comment/user/' + year + '/' + part + '/department/' + USER.department)\n            // console.log('https://program-api.herokuapp.com/' + year + '/' + part + '/' + answer.questionNumber + '/Answer/officer/' + userId, answer)\n            .then(res => {\n                // console.log(\"ALL DATA\", res.data);\n                setAllAnswer(res.data)\n                // alert(\"บันทึกข้อมูลสำเร็จ\");\n                setLoading(false);\n            })\n            .catch(err => {\n                console.log(err)\n                // alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                setLoading(false);\n\n            });\n    };\n\n    const getAnswerWithManagerIdAndNumber = ({ number }) => {\n        setLoading(true);\n\n        // console.log(\"get\", userId)\n        axiox.get(MAIN_URL + '/answer/comment/manager/' + year + '/' + part + '/' + userId + '/' + number)\n            // console.log('https://program-api.herokuapp.com/' + year + '/' + part + '/' + answer.questionNumber + '/Answer/officer/' + userId, answer)\n            .then(res => {\n                console.log(res.data);\n                setAnswer(res.data)\n                // alert(\"บันทึกข้อมูลสำเร็จ\");\n                setLoading(false);\n            })\n            .catch(err => {\n                console.log(err)\n                // alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                setLoading(false);\n\n            });\n    }\n\n    const getAnswerWithManagerId = () => {\n        setLoadingPage(true);\n\n        // console.log(\"get\", userId)\n        axiox.get(MAIN_URL + '/answer/comment/manager/' + year + '/' + part + '/' + userId)\n            // console.log('https://program-api.herokuapp.com/' + year + '/' + part + '/' + answer.questionNumber + '/Answer/officer/' + userId, answer)\n            .then(res => {\n                // console.log(res.data);\n                const data = res.data;\n                mapAnserToGroup(data)\n                // alert(\"บันทึกข้อมูลสำเร็จ\");\n                setLoadingPage(false);\n            })\n            .catch(err => {\n                console.log(err)\n                // alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                setLoadingPage(false);\n\n            });\n    }\n\n    const mapAnserToGroup = (data) => {\n        var allAnswerGroup = [];\n        var answerGroup = [];\n        var lastUserid = '';\n        // console.log(data)\n        var userid = '';\n        var name = '';\n        var lastname = '';\n        var nickname = '';\n\n        for (var i = 0; i < data.length; i++) {\n            if (i === 0) {\n                lastUserid = data[i].userid;\n            }\n            if (data[i].userid === lastUserid) {\n                userid = data[i].userid;\n                name = data[i].name;\n                lastname = data[i].lastname;\n                nickname = data[i].nickname;\n\n                if (data.length - 1 === i) {\n                    console.log(data.length - 1);\n                    console.log(i)\n                    var obj = {\n                        userid: userid,\n                        name: name,\n                        lastname: lastname,\n                        nickname: nickname,\n                        all_answer: answerGroup\n                    }\n                    // console.log(obj)\n                    answerGroup.push(data[i]);\n\n                    allAnswerGroup.push(obj);\n\n                    setAnswerFormanager(allAnswerGroup);\n                    console.log(answerForManger)\n                }\n                else {\n                    answerGroup.push(data[i]);\n                }\n\n            } else {\n                var obj = {\n                    userid: userid,\n                    name: name,\n                    lastname: lastname,\n                    nickname: nickname,\n                    all_answer: answerGroup\n                }\n\n                // console.log(obj)\n\n                allAnswerGroup.push(obj);\n                // console.log(answerForManger);\n                answerGroup = [];\n                lastUserid = data[i].userid;\n\n                answerGroup.push(data[i]);\n            }\n        }\n        // console.log(answerForManger);\n    }\n\n    const postAnswer = ({ dataSend, number }) => {\n        setLoading(true);\n        axiox.post(MAIN_URL + '/answer/comment/user/' + year + '/' + part + '/' + userId + '/' + number, dataSend)\n            // console.log('https://program-api.herokuapp.com/' + year + '/' + part + '/' + answer.questionNumber + '/Answer/officer/' + userId, answer)\n            .then(res => {\n                // console.log(res.data);\n                alert(\"บันทึกข้อมูลสำเร็จ\");\n                setLoading(false);\n            })\n            .catch(err => {\n                console.log(err)\n                alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                setLoading(false);\n\n            });\n    }\n\n    const renderManagerCheck = () => {\n        const renderUserWithAllAnswer = ({ item, index }) => {\n            return (\n                <View style={{ marginBottom: 14 }}>\n                    <Text style={{ fontWeight: 'bold' }}>{item.number}. {item.qt}</Text>\n                    <Text style={{ color: 'green', padding: 4, paddingHorizontal: 16 }}>{item.answer}</Text>\n                </View>\n            )\n        }\n\n        const renderItem = ({ item, index }) => {\n            console.log(item);\n            return (\n                <View style={{ padding: 8, marginHorizontal: 16, marginVertical: 8, borderRadius: 5, borderColor: 'black', borderWidth: .5 }}>\n                    {item.all_answer[0].reveal === 0 ?\n                        <Text style={{ fontSize: 15, fontWeight: 'bold', paddingHorizontal: 8, color: 'blue' }}>{item.name} {item.lastname} ({item.nickname}) [{item.all_answer[0].department}] <Text style={{ fontSize: 12, color: 'gray' }}> - วันที่ {moment(item.date).format('ll')}</Text></Text>\n                        :\n                        <Text style={{ paddingHorizontal: 8, fontSize: 15, fontWeight: 'bold', color: 'blue' }}>ไม่เปิดเผยชื่อ <Text style={{ fontSize: 12, color: 'gray' }}> - วันที่ {moment(item.date).format('ll')}</Text></Text>\n                    }\n                    <View style={{ padding: 8, marginVertical: 8, borderRadius: 5, borderColor: 'gray', borderWidth: .2 }}>\n\n                        <FlatList\n                            data={item.all_answer}\n                            extraData={item.all_answer}\n                            keyExtractor={(item, index) => `${index}`}\n                            renderItem={renderUserWithAllAnswer}\n                            scrollEnabled={false}\n                        />\n\n                        <Text style={{ color: 'green', paddingHorizontal: 16, paddingVertical: 4 }}>{item.answer}</Text>\n                    </View>\n                </View>\n            )\n            // <View>\n            //     <TouchableOpacity\n            //         style={selectedColor === index ? { borderRadius: 10, backgroundColor: 'green', padding: 10, margin: 10, } : { borderRadius: 10, borderColor: 'gray', borderWidth: .3, backgroundColor: '#F8F8FF', padding: 10, margin: 10, }}\n            //         onPress={() => {\n            //             setAnswer([]);\n            //             setSelectedColor(index);\n            //             setCheckIndex(index);\n            //             // console.log(item.number)\n            //             getAnswerWithManagerIdAndNumber({ number: item.number });\n            //         }}\n            //     >\n            //         <Text style={selectedColor === index ? { color: 'white', fontSize: 16 } : { color: 'black', fontSize: 16 }}>{index + 1}.  {item.qt}\n\n            //             {/* {\n            //             item.reveal != 1 ?\n            //                 <Text style={{ fontSize: 14, color: 'blue' }}> {item.qt} {item.lastname} ({item.nickname}) ( แผนก/สาขา {item.department} )</Text>\n            //                 :\n            //                 <Text style={{ fontSize: 14, color: 'blue' }}> ไม่เปิดเผยชื่อ</Text>\n            //         } */}\n            //         </Text>\n            //     </TouchableOpacity>\n            //     {checkIndex === index ?\n            //         !loading ?\n            //             answer.length != 0 ?\n            //                 <View style={{ padding: 16, margin: 8, borderRadius: 10, borderWidth: .3, borderColor: 'gray' }}>\n            //                     <FlatList\n            //                         data={answer}\n            //                         extraData={answer}\n            //                         keyExtractor={(item, index) => `${index}`}\n            //                         renderItem={renderComment}\n            //                         ListHeaderComponent={\n            //                             <Text style={{ marginBottom: 16, alignSelf: 'center', fontSize: 14 }}>ความคิดเห็นทั้งหมด</Text>\n            //                         }\n            //                     />\n            //                 </View>\n            //                 :\n            //                 selectedColor != '' ?\n            //                     <View style={{ padding: 16, margin: 8, borderRadius: 10, borderWidth: .3, borderColor: 'gray' }}>\n            //                         <Text style={{ alignSelf: 'center' }}>ไม่มีความคิดเห็น</Text>\n            //                     </View>\n            //                     :\n            //                     null\n            //             :\n            //             <ActivityIndicator />\n\n            //         :\n            //         null\n            //     }\n            // </View>\n            // )\n        }\n\n        const renderComment = ({ item, index }) => {\n            return (\n                <View style={{ marginVertical: 8 }}>\n                    {item.reveal === 0 ?\n                        <Text style={{ fontSize: 15, fontWeight: 'bold' }}>{item.name} {item.lastname} ({item.nickname}) [{item.department}] <Text style={{ fontSize: 12, color: 'gray' }}> - วันที่ {moment(item.date).format('ll')}</Text></Text>\n                        :\n                        <Text style={{ fontSize: 15, fontWeight: 'bold' }}>ไม่เปิดเผยชื่อ <Text style={{ fontSize: 12, color: 'gray' }}> - วันที่ {moment(item.date).format('ll')}</Text></Text>\n                    }\n                    <View style={{ marginVertical: 8, borderRadius: 5, borderColor: 'gray', borderWidth: .3 }}>\n                        <Text style={{ color: 'green', padding: 8 }}>{item.answer}</Text>\n                    </View>\n                </View>\n            );\n        };\n\n        return (\n            loadingPage ?\n                <ActivityIndicator style={{\n\n                    position: 'absolute',\n                    left: 0,\n                    right: 0,\n                    top: 0,\n                    bottom: 0,\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                }} size=\"large\" color=\"#0275d8\" />\n                :\n                answerForManger.length != 0 ?\n                    <View style={{ marginBottom: 18 }}>\n                        <FlatList\n                            data={answerForManger}\n                            extraData={answerForManger}\n                            keyExtractor={(item, index) => `${index}`}\n                            renderItem={renderItem}\n                            ListHeaderComponent={\n                                <View style={{ margin: 16 }}>\n                                    <Text style={{ alignSelf: 'center', fontSize: 14 }}>ความคิดเห็นทั้งหมด</Text>\n                                </View>\n\n                            }\n                            showsVerticalScrollIndicator={false}\n                        />\n                    </View>\n                    :\n                    <Text style={{ fontSize: 16, alignSelf: 'center', marginTop: 50 }}>ไม่มีข้อมูล</Text>\n            // null\n        )\n    }\n\n    const renderUserComment = () => {\n        const renderItem = ({ item, index }) => {\n            return (\n                <View style={{ padding: 8, margin: 15, backgroundColor: 'white', borderColor: 'gray', borderWidth: .3 }}>\n                    <Text style={{ fontSize: 16 }}>{item.number}. {item.qt}</Text>\n                    {/* <Text style={{ color: 'red' }}>*ผู้จัดการของแผนกคุณเท่านั้นที่จะเห็นคำตอบ แต่จะไม่รู้ว่าใครเป็นคนตอบ</Text> */}\n\n                    <TextInput\n                        style={{ backgroundColor: 'white', marginTop: 20, borderWidth: 1, padding: 10, borderRadius: 5, marginVertical: 8, height: 150 }}\n                        // textContentType='telephoneNumber'\n                        placeholder=\"คำตอบ\"\n                        placeholderTextColor=\"gray\"\n                        multiline\n                        numberOfLines={6}\n                        color='blue'\n                        fontSize={16}\n                        onChangeText={text => {\n                            answer[index] = text;\n                        }}\n                        defaultValue={item.answer}\n                    />\n\n                    <Button\n                        style={{\n                            backgroundColor: 'green',\n                            borderRadius: 10,\n                            marginVertical: 8\n                        }}\n                        mode=\"Contained\"\n                        onPress={() => {\n\n                            const dataSend = {\n                                manager_id: managerID,\n                                reveal: checked,\n                                answer: answer[index],\n                                date: moment().format('yyyy-MM-DD'),\n                                department: USER.department\n                            }\n                            console.log(dataSend)\n                            console.log(\"year\", year)\n                            console.log(\"part\", part)\n                            console.log(\"number\", item.number)\n                            console.log(\"userid\", USER.userid)\n                            postAnswer({ dataSend, number: item.number });\n                        }}\n                    >\n                        <Text style={{ alignSelf: 'center', color: 'white' }}>ส่งคำตอบ</Text>\n                    </Button>\n                </View>\n            )\n        }\n\n        return (\n            loadingPage ?\n                <ActivityIndicator style={{\n\n                    position: 'absolute',\n                    left: 0,\n                    right: 0,\n                    top: 0,\n                    bottom: 0,\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                }} size=\"large\" color=\"#0275d8\" />\n                :\n                questionWithAnswer.length != 0 ?\n                    <FlatList\n                        data={questionWithAnswer}\n                        extraData={questionWithAnswer}\n                        keyExtractor={(item, index) => `${index}`}\n                        renderItem={renderItem}\n                        ListHeaderComponent={\n                            <View style={{ margin: 16, backgroundColor: 'white', paddingBottom: 16 }}>\n                                <Text style={{ fontSize: 16, margin: 16 }}>* ก่อนตอบคำถาม ท่านต้องการเปิดเผยชื่อให้ผู้จัดการทราบหรือไม่</Text>\n                                <CheckBox\n                                    title='ไม่เปิดเผยชื่อ'\n                                    checked={checked}\n                                    onPress={() => {\n                                        setChecked(!checked)\n                                        // console.log(checked);\n                                    }}\n                                />\n                            </View>\n                        }\n                    />\n                    :\n                    <Text style={{ fontSize: 16, alignSelf: 'center', marginTop: 50 }}>ไม่มีข้อมูล</Text>\n        )\n    }\n\n    return (\n        <View style={{ flex: 1, backgroundColor: 'white' }}>\n\n            {USER.position === 'ผู้จัดการ' ?\n                renderManagerCheck(navigation)\n                :\n                renderUserComment(navigation)\n            }\n        </View>\n    );\n};\n\nconst styles = StyleSheet.create({\n    checkboxContainer: {\n        backgroundColor: 'white',\n        borderColor: 'gray',\n        borderWidth: 3,\n        flexDirection: \"row\",\n        marginBottom: 20,\n    },\n    checkbox: {\n\n        width: 20,\n        height: 20,\n        alignSelf: \"center\",\n    },\n    label: {\n        margin: 8,\n    },\n})\n\nexport default StaffCommentScreen;"]},"metadata":{},"sourceType":"module"}