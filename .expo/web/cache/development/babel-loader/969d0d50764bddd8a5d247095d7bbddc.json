{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/drift/Documents/ReactNative/cal-assessment/src/screens/StaffCommentScreen.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Button, Card } from 'react-native-paper';\nimport { CheckBox } from 'react-native-elements';\nimport axiox from 'axios';\nimport { COLORS, SIZES } from \"../constants/theme\";\nimport moment from 'moment';\nimport 'moment/locale/th';\nimport { MAIN_URL, USER } from \"../constants/variables\";\n\nvar StaffCommentScreen = function StaffCommentScreen(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var userId = USER.userid;\n  var managerID = route.params.managerID;\n  var year = route.params.year;\n  var part = route.params.part;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      answer = _useState2[0],\n      setAnswer = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      allAnswer = _useState6[0],\n      setAllAnswer = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      questionWithAnswer = _useState8[0],\n      setQuestionWithAnswer = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      question = _useState10[0],\n      setQuestion = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      checked = _useState12[0],\n      setChecked = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      selectedColor = _useState14[0],\n      setSelectedColor = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      list = _useState16[0],\n      setList = _useState16[1];\n\n  useEffect(function () {\n    setLoading(true);\n    USER.position === \"ผู้จัดการ\" ? getAllQuestion() : getAllQuestionWithAnswer();\n  }, []);\n\n  var getAllQuestionWithAnswer = function getAllQuestionWithAnswer() {\n    setLoading(true);\n    axiox.get(MAIN_URL + '/answer/comment/user/' + year + '/' + part + '/' + managerID + '/' + userId).then(function (res) {\n      setQuestionWithAnswer(res.data);\n      setLoading(false);\n    }).catch(function (err) {\n      console.log(err);\n      setLoading(false);\n    });\n  };\n\n  var getAllQuestion = function getAllQuestion() {\n    setLoading(true);\n    axiox.get(MAIN_URL + '/question/comment/' + year + '/' + part).then(function (res) {\n      setQuestion(res.data);\n      setLoading(false);\n    }).catch(function (err) {\n      console.log(err);\n      setLoading(false);\n    });\n  };\n\n  var getAllAnswer = function getAllAnswer() {\n    setLoading(true);\n    axiox.get(MAIN_URL + '/answer/comment/user/' + year + '/' + part + '/department/' + USER.department).then(function (res) {\n      setAllAnswer(res.data);\n      setLoading(false);\n    }).catch(function (err) {\n      console.log(err);\n      setLoading(false);\n    });\n  };\n\n  var getAnswerWithManagerId = function getAnswerWithManagerId(_ref2) {\n    var number = _ref2.number;\n    setLoading(true);\n    axiox.get(MAIN_URL + '/answer/comment/manager/' + year + '/' + part + '/' + userId + '/' + number).then(function (res) {\n      console.log(res.data);\n      setAnswer(res.data);\n      setLoading(false);\n    }).catch(function (err) {\n      console.log(err);\n      setLoading(false);\n    });\n  };\n\n  var postAnswer = function postAnswer(_ref3) {\n    var dataSend = _ref3.dataSend,\n        number = _ref3.number;\n    setLoading(true);\n    axiox.post(MAIN_URL + '/answer/comment/user/' + year + '/' + part + '/' + userId + '/' + number, dataSend).then(function (res) {\n      alert(\"บันทึกข้อมูลสำเร็จ\");\n      setLoading(false);\n    }).catch(function (err) {\n      console.log(err);\n      alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n      setLoading(false);\n    });\n  };\n\n  var renderManagerCheck = function renderManagerCheck() {\n    var renderItem = function renderItem(_ref4) {\n      var item = _ref4.item,\n          index = _ref4.index;\n      return React.createElement(TouchableOpacity, {\n        style: selectedColor === index ? {\n          borderRadius: 10,\n          backgroundColor: 'green',\n          padding: 10,\n          margin: 10\n        } : {\n          borderRadius: 10,\n          borderColor: 'gray',\n          borderWidth: .3,\n          backgroundColor: '#F8F8FF',\n          padding: 10,\n          margin: 10\n        },\n        onPress: function onPress() {\n          setSelectedColor(index);\n          getAnswerWithManagerId({\n            number: item.number\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: selectedColor === index ? {\n          color: 'white',\n          fontSize: 16\n        } : {\n          color: 'black',\n          fontSize: 16\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }\n      }, index + 1, \".  \", item.qt));\n    };\n\n    var renderComment = function renderComment(_ref5) {\n      var item = _ref5.item,\n          index = _ref5.index;\n      return React.createElement(View, {\n        style: {\n          marginVertical: 8\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }\n      }, item.reveal === 0 ? React.createElement(Text, {\n        style: {\n          fontSize: 15,\n          fontWeight: 'bold'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 25\n        }\n      }, item.name, \" \", item.lastname, \" (\", item.nickname, \") [\", item.department, \"] \", React.createElement(Text, {\n        style: {\n          fontSize: 12,\n          color: 'gray'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 142\n        }\n      }, \" - \\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48 \", moment(item.date).format('ll'))) : React.createElement(Text, {\n        style: {\n          fontSize: 15,\n          fontWeight: 'bold'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }\n      }, \"\\u0E44\\u0E21\\u0E48\\u0E40\\u0E1B\\u0E34\\u0E14\\u0E40\\u0E1C\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D \", React.createElement(Text, {\n        style: {\n          fontSize: 12,\n          color: 'gray'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 91\n        }\n      }, \" - \\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48 \", moment(item.date).format('ll'))), React.createElement(View, {\n        style: {\n          marginVertical: 8,\n          borderRadius: 5,\n          borderColor: 'gray',\n          borderWidth: .3\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'green',\n          padding: 8\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 25\n        }\n      }, item.answer)));\n    };\n\n    return React.createElement(View, {\n      style: {\n        marginBottom: 18\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }\n    }, React.createElement(FlatList, {\n      data: question,\n      extraData: question,\n      keyExtractor: function keyExtractor(item, index) {\n        return \"\" + index;\n      },\n      renderItem: renderItem,\n      ListHeaderComponent: React.createElement(View, {\n        style: {\n          margin: 16\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        style: {\n          alignSelf: 'center',\n          fontSize: 18\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 33\n        }\n      }, \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D\")),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }\n    })), React.createElement(View, {\n      style: {\n        padding: 16,\n        margin: 8,\n        borderRadius: 10,\n        borderWidth: .3,\n        borderColor: 'gray'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    }, answer.length != 0 ? React.createElement(FlatList, {\n      data: answer,\n      extraData: answer,\n      keyExtractor: function keyExtractor(item, index) {\n        return \"\" + index;\n      },\n      renderItem: renderComment,\n      ListHeaderComponent: React.createElement(Text, {\n        style: {\n          marginBottom: 16,\n          alignSelf: 'center',\n          fontSize: 14\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 33\n        }\n      }, \"\\u0E04\\u0E27\\u0E32\\u0E21\\u0E04\\u0E34\\u0E14\\u0E40\\u0E2B\\u0E47\\u0E19\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 25\n      }\n    }) : React.createElement(Text, {\n      style: {\n        alignSelf: 'center'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 25\n      }\n    }, \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E04\\u0E27\\u0E32\\u0E21\\u0E04\\u0E34\\u0E14\\u0E40\\u0E2B\\u0E47\\u0E19\")));\n  };\n\n  var renderUserComment = function renderUserComment() {\n    var renderItem = function renderItem(_ref6) {\n      var item = _ref6.item,\n          index = _ref6.index;\n      return React.createElement(View, {\n        style: {\n          padding: 8,\n          margin: 15,\n          backgroundColor: 'white',\n          borderColor: 'gray',\n          borderWidth: .3\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 16\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }\n      }, item.number, \". \", item.qt), React.createElement(TextInput, {\n        style: {\n          backgroundColor: 'white',\n          marginTop: 20,\n          borderWidth: 1,\n          padding: 10,\n          borderRadius: 5,\n          marginVertical: 8,\n          height: 150\n        },\n        placeholder: \"\\u0E04\\u0E33\\u0E15\\u0E2D\\u0E1A\",\n        placeholderTextColor: \"gray\",\n        multiline: true,\n        numberOfLines: 6,\n        color: \"blue\",\n        fontSize: 16,\n        onChangeText: function onChangeText(text) {\n          answer[index] = text;\n        },\n        defaultValue: item.answer,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }\n      }), React.createElement(Button, {\n        style: {\n          backgroundColor: 'green',\n          borderRadius: 10,\n          marginVertical: 8\n        },\n        mode: \"Contained\",\n        onPress: function onPress() {\n          var dataSend = {\n            manager_id: managerID,\n            reveal: checked,\n            answer: answer[index],\n            date: moment().format('yyyy-MM-DD'),\n            department: USER.department\n          };\n          console.log(dataSend);\n          console.log(\"year\", year);\n          console.log(\"part\", part);\n          console.log(\"number\", item.number);\n          console.log(\"userid\", USER.userid);\n          postAnswer({\n            dataSend: dataSend,\n            number: item.number\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          alignSelf: 'center',\n          color: 'white'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 25\n        }\n      }, \"\\u0E2A\\u0E48\\u0E07\\u0E04\\u0E33\\u0E15\\u0E2D\\u0E1A\")));\n    };\n\n    return React.createElement(FlatList, {\n      data: questionWithAnswer,\n      extraData: questionWithAnswer,\n      keyExtractor: function keyExtractor(item, index) {\n        return \"\" + index;\n      },\n      renderItem: renderItem,\n      ListHeaderComponent: React.createElement(View, {\n        style: {\n          margin: 16,\n          backgroundColor: 'white',\n          paddingBottom: 16\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 16,\n          margin: 16\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 25\n        }\n      }, \"* \\u0E01\\u0E48\\u0E2D\\u0E19\\u0E15\\u0E2D\\u0E1A\\u0E04\\u0E33\\u0E16\\u0E32\\u0E21 \\u0E17\\u0E48\\u0E32\\u0E19\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23\\u0E40\\u0E1B\\u0E34\\u0E14\\u0E40\\u0E1C\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E43\\u0E2B\\u0E49\\u0E1C\\u0E39\\u0E49\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E17\\u0E23\\u0E32\\u0E1A\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E44\\u0E21\\u0E48\"), React.createElement(CheckBox, {\n        title: \"\\u0E44\\u0E21\\u0E48\\u0E40\\u0E1B\\u0E34\\u0E14\\u0E40\\u0E1C\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D\",\n        checked: checked,\n        onPress: function onPress() {\n          setChecked(!checked);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 25\n        }\n      })),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 13\n      }\n    });\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: 'white'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 9\n    }\n  }, USER.position === 'ผู้จัดการ' ? renderManagerCheck(navigation) : renderUserComment(navigation));\n};\n\nvar styles = StyleSheet.create({\n  checkboxContainer: {\n    backgroundColor: 'white',\n    borderColor: 'gray',\n    borderWidth: 3,\n    flexDirection: \"row\",\n    marginBottom: 20\n  },\n  checkbox: {\n    width: 20,\n    height: 20,\n    alignSelf: \"center\"\n  },\n  label: {\n    margin: 8\n  }\n});\nexport default StaffCommentScreen;","map":{"version":3,"sources":["/Users/drift/Documents/ReactNative/cal-assessment/src/screens/StaffCommentScreen.js"],"names":["React","useState","useEffect","Button","Card","CheckBox","axiox","COLORS","SIZES","moment","MAIN_URL","USER","StaffCommentScreen","navigation","route","userId","userid","managerID","params","year","part","answer","setAnswer","loading","setLoading","allAnswer","setAllAnswer","questionWithAnswer","setQuestionWithAnswer","question","setQuestion","checked","setChecked","selectedColor","setSelectedColor","list","setList","position","getAllQuestion","getAllQuestionWithAnswer","get","then","res","data","catch","err","console","log","getAllAnswer","department","getAnswerWithManagerId","number","postAnswer","dataSend","post","alert","renderManagerCheck","renderItem","item","index","borderRadius","backgroundColor","padding","margin","borderColor","borderWidth","color","fontSize","qt","renderComment","marginVertical","reveal","fontWeight","name","lastname","nickname","date","format","marginBottom","alignSelf","length","renderUserComment","marginTop","height","text","manager_id","paddingBottom","flex","styles","StyleSheet","create","checkboxContainer","flexDirection","checkbox","width","label"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, TextInput, FlatList, StyleSheet, TouchableOpacity } from 'react-native';\nimport { Button, Card } from 'react-native-paper';\nimport { CheckBox } from 'react-native-elements'\n\nimport axiox from 'axios';\nimport { COLORS, SIZES } from '../constants/theme';\n\nimport moment from 'moment';\nimport 'moment/locale/th';\nimport { MAIN_URL, USER } from '../constants/variables';\n\nconst StaffCommentScreen = ({ navigation, route }) => {\n\n    // let sheetID = route.params.sheetID;\n    let userId = USER.userid;\n    // console.log(userId)\n    let managerID = route.params.managerID;\n    let year = route.params.year;\n    let part = route.params.part;\n\n    const [answer, setAnswer] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [allAnswer, setAllAnswer] = useState([]);\n    const [questionWithAnswer, setQuestionWithAnswer] = useState([]);\n    const [question, setQuestion] = useState([]);\n    // var checkArray = [];\n    const [checked, setChecked] = useState(false);\n    // const [itemSelected, setItemSeleced] = useState(0);\n    const [selectedColor, setSelectedColor] = useState('');\n    const [list, setList] = useState([]);\n    // console.log(USER.position)\n\n    useEffect(() => {\n        setLoading(true);\n        // console.log(USER.position)\n        USER.position === \"ผู้จัดการ\" ? getAllQuestion() : getAllQuestionWithAnswer()\n\n    }, []);\n\n    const getAllQuestionWithAnswer = () => {\n        setLoading(true);\n        // console.log(MAIN_URL + '/answer/comment/user/' + year + '/' + part + '/' + managerID + '/' + userId)\n        // console.log(\"getAllQuestionWithAnswer\");\n        axiox.get(MAIN_URL + '/answer/comment/user/' + year + '/' + part + '/' + managerID + '/' + userId)\n            // console.log('https://program-api.herokuapp.com/' + year + '/' + part + '/' + answer.questionNumber + '/Answer/officer/' + userId, answer)\n            .then(res => {\n\n                setQuestionWithAnswer(res.data)\n                // alert(\"บันทึกข้อมูลสำเร็จ\");\n                setLoading(false);\n                // res.data.map(item => {\n                //     checkArray.push({\n                //         check: false\n                //     });\n                // console.log(checked)\n                // })\n            })\n            .catch(err => {\n                console.log(err)\n                // alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                setLoading(false);\n\n            });\n    };\n\n    const getAllQuestion = () => {\n        setLoading(true);\n        axiox.get(MAIN_URL + '/question/comment/' + year + '/' + part)\n            .then(res => {\n                // console.log(res.data);\n                // console.log(\"ALL DATA\", res.data);\n                setQuestion(res.data)\n\n                // alert(\"บันทึกข้อมูลสำเร็จ\");\n                setLoading(false);\n            })\n            .catch(err => {\n                console.log(err)\n                // alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                setLoading(false);\n\n            });\n    }\n\n    const getAllAnswer = () => {\n        setLoading(true);\n        // console.log(\"getAll\")\n        axiox.get(MAIN_URL + '/answer/comment/user/' + year + '/' + part + '/department/' + USER.department)\n            // console.log('https://program-api.herokuapp.com/' + year + '/' + part + '/' + answer.questionNumber + '/Answer/officer/' + userId, answer)\n            .then(res => {\n                // console.log(\"ALL DATA\", res.data);\n                setAllAnswer(res.data)\n                // alert(\"บันทึกข้อมูลสำเร็จ\");\n                setLoading(false);\n            })\n            .catch(err => {\n                console.log(err)\n                // alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                setLoading(false);\n\n            });\n    };\n\n    const getAnswerWithManagerId = ({ number }) => {\n        setLoading(true);\n        // console.log(\"get\", userId)\n        axiox.get(MAIN_URL + '/answer/comment/manager/' + year + '/' + part + '/' + userId + '/' + number)\n            // console.log('https://program-api.herokuapp.com/' + year + '/' + part + '/' + answer.questionNumber + '/Answer/officer/' + userId, answer)\n            .then(res => {\n                console.log(res.data);\n                setAnswer(res.data)\n                // alert(\"บันทึกข้อมูลสำเร็จ\");\n                setLoading(false);\n            })\n            .catch(err => {\n                console.log(err)\n                // alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                setLoading(false);\n\n            });\n    }\n\n    const postAnswer = ({ dataSend, number }) => {\n        setLoading(true);\n        axiox.post(MAIN_URL + '/answer/comment/user/' + year + '/' + part + '/' + userId + '/' + number, dataSend)\n            // console.log('https://program-api.herokuapp.com/' + year + '/' + part + '/' + answer.questionNumber + '/Answer/officer/' + userId, answer)\n            .then(res => {\n                // console.log(res.data);\n                alert(\"บันทึกข้อมูลสำเร็จ\");\n                setLoading(false);\n            })\n            .catch(err => {\n                console.log(err)\n                alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                setLoading(false);\n\n            });\n    }\n\n    const renderManagerCheck = () => {\n        const renderItem = ({ item, index }) => {\n            // console.log(item)\n            return (\n                <TouchableOpacity\n                    style={selectedColor === index ? { borderRadius: 10, backgroundColor: 'green', padding: 10, margin: 10, } : { borderRadius: 10, borderColor: 'gray', borderWidth: .3, backgroundColor: '#F8F8FF', padding: 10, margin: 10, }}\n                    onPress={() => {\n                        setSelectedColor(index);\n                        // console.log(item.number)\n                        getAnswerWithManagerId({ number: item.number });\n                    }}\n                >\n                    <Text style={selectedColor === index ? { color: 'white', fontSize: 16 } : { color: 'black', fontSize: 16 }}>{index + 1}.  {item.qt}\n\n                        {/* {\n                            item.reveal != 1 ?\n                                <Text style={{ fontSize: 14, color: 'blue' }}> {item.qt} {item.lastname} ({item.nickname}) ( แผนก/สาขา {item.department} )</Text>\n                                :\n                                <Text style={{ fontSize: 14, color: 'blue' }}> ไม่เปิดเผยชื่อ</Text>\n                        } */}\n                    </Text>\n                </TouchableOpacity>\n            )\n        }\n\n        const renderComment = ({ item, index }) => {\n            return (\n                <View style={{ marginVertical: 8}}>\n                    {item.reveal === 0 ?\n                        <Text style={{ fontSize: 15, fontWeight: 'bold' }}>{item.name} {item.lastname} ({item.nickname}) [{item.department}] <Text style={{ fontSize: 12, color:'gray'}}> - วันที่ {moment(item.date).format('ll')}</Text></Text>\n                        :\n                        <Text style={{ fontSize: 15, fontWeight: 'bold' }}>ไม่เปิดเผยชื่อ <Text style={{ fontSize: 12, color:'gray'}}> - วันที่ {moment(item.date).format('ll')}</Text></Text>\n                    }\n                    <View style={{ marginVertical: 8, borderRadius: 5, borderColor: 'gray', borderWidth: .3 }}>\n                        <Text style={{ color: 'green', padding: 8 }}>{item.answer}</Text>\n                    </View>\n                </View>\n            );\n        };\n\n        return (\n            <View style={{ marginBottom: 18 }}>\n                <View>\n                    <FlatList\n                        data={question}\n                        extraData={question}\n                        keyExtractor={(item, index) => `${index}`}\n                        renderItem={renderItem}\n                        ListHeaderComponent={\n                            <View style={{ margin: 16 }}>\n                                <Text style={{ alignSelf: 'center', fontSize: 18 }}>เลือกหัวข้อ</Text>\n                            </View>\n\n                        }\n                    />\n\n                </View>\n                <View style={{ padding: 16, margin: 8, borderRadius: 10, borderWidth: .3, borderColor: 'gray' }}>\n                    {answer.length != 0 ?\n                        <FlatList\n                            data={answer}\n                            extraData={answer}\n                            keyExtractor={(item, index) => `${index}`}\n                            renderItem={renderComment}\n                            ListHeaderComponent={\n                                <Text style={{ marginBottom:16, alignSelf: 'center', fontSize: 14 }}>ความคิดเห็นทั้งหมด</Text>\n                            }\n                        />\n                        :\n                        <Text style={{ alignSelf: 'center' }}>ไม่มีความคิดเห็น</Text>\n                    }\n                </View>\n            </View>\n        )\n    }\n\n    const renderUserComment = () => {\n        const renderItem = ({ item, index }) => {\n            return (\n                <View style={{ padding: 8, margin: 15, backgroundColor: 'white', borderColor: 'gray', borderWidth: .3 }}>\n                    <Text style={{ fontSize: 16 }}>{item.number}. {item.qt}</Text>\n                    {/* <Text style={{ color: 'red' }}>*ผู้จัดการของแผนกคุณเท่านั้นที่จะเห็นคำตอบ แต่จะไม่รู้ว่าใครเป็นคนตอบ</Text> */}\n\n                    <TextInput\n                        style={{ backgroundColor: 'white', marginTop: 20, borderWidth: 1, padding: 10, borderRadius: 5, marginVertical: 8, height: 150 }}\n                        // textContentType='telephoneNumber'\n                        placeholder=\"คำตอบ\"\n                        placeholderTextColor=\"gray\"\n                        multiline\n                        numberOfLines={6}\n                        color='blue'\n                        fontSize={16}\n                        onChangeText={text => {\n                            answer[index] = text;\n                        }}\n                        defaultValue={item.answer}\n                    />\n\n                    <Button\n                        style={{\n                            backgroundColor: 'green',\n                            borderRadius: 10,\n                            marginVertical: 8\n                        }}\n                        mode=\"Contained\"\n                        onPress={() => {\n                            \n                            const dataSend = {\n                                manager_id: managerID,\n                                reveal: checked,\n                                answer: answer[index],\n                                date: moment().format('yyyy-MM-DD'),\n                                department: USER.department\n                            }\n                            console.log(dataSend)\n                            console.log(\"year\", year)\n                            console.log(\"part\", part)\n                            console.log(\"number\", item.number)\n                            console.log(\"userid\", USER.userid)\n                            postAnswer({ dataSend, number: item.number });\n                        }}\n                    >\n                        <Text style={{ alignSelf: 'center', color: 'white' }}>ส่งคำตอบ</Text>\n                    </Button>\n                </View>\n            )\n        }\n\n        return (\n            <FlatList\n                data={questionWithAnswer}\n                extraData={questionWithAnswer}\n                keyExtractor={(item, index) => `${index}`}\n                renderItem={renderItem}\n                ListHeaderComponent={\n                    <View style={{ margin: 16, backgroundColor: 'white', paddingBottom: 16 }}>\n                        <Text style={{ fontSize: 16, margin: 16 }}>* ก่อนตอบคำถาม ท่านต้องการเปิดเผยชื่อให้ผู้จัดการทราบหรือไม่</Text>\n                        <CheckBox\n                            title='ไม่เปิดเผยชื่อ'\n                            checked={checked}\n                            onPress={() => {\n                                setChecked(!checked)\n                                // console.log(checked);\n                            }}\n                        />\n                    </View>\n                }\n            />\n        )\n    }\n\n    return (\n        <View style={{ flex: 1, backgroundColor: 'white' }}>\n\n            {USER.position === 'ผู้จัดการ' ?\n                renderManagerCheck(navigation)\n                :\n                renderUserComment(navigation)\n            }\n        </View>\n    );\n};\n\nconst styles = StyleSheet.create({\n    checkboxContainer: {\n        backgroundColor: 'white',\n        borderColor: 'gray',\n        borderWidth: 3,\n        flexDirection: \"row\",\n        marginBottom: 20,\n    },\n    checkbox: {\n\n        width: 20,\n        height: 20,\n        alignSelf: \"center\",\n    },\n    label: {\n        margin: 8,\n    },\n})\n\nexport default StaffCommentScreen;"]},"metadata":{},"sourceType":"module"}