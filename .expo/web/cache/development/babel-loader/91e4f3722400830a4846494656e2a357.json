{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/drift/Documents/ReactNative/cal-assessment/src/screens/ManagerAssessmentScreen.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Button, Card } from 'react-native-paper';\nimport axiox from 'axios';\nimport { COLORS, SIZES } from \"../constants/theme\";\nimport moment from 'moment';\nimport 'moment/locale/th';\nimport { USER } from \"../constants/variables\";\n\nvar ManagerAssessmentScreen = function ManagerAssessmentScreen(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var userId = route.params.userId;\n  var year = route.params.year;\n  var part = route.params.part;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      answer = _useState2[0],\n      setAnswer = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      allAnswer = _useState6[0],\n      setAllAnswer = _useState6[1];\n\n  console.log(USER.position);\n  useEffect(function () {\n    setLoading(true);\n    USER.position === \"ผู้จัดการ\" ? getAllAnswer() : getAnswer();\n  }, []);\n\n  var getAllAnswer = function getAllAnswer() {\n    setLoading(true);\n    console.log(\"getAll\");\n    axiox.get('http://localhost:8080/answer/manager_assessment/' + year + '/' + part + '/department/' + USER.department).then(function (res) {\n      console.log(res.data);\n      setAllAnswer(res.data);\n      setLoading(false);\n    }).catch(function (err) {\n      console.log(err);\n      setLoading(false);\n    });\n  };\n\n  var getAnswer = function getAnswer() {\n    setLoading(true);\n    console.log(\"get\");\n    axiox.get('http://localhost:8080/answer/manager_assessment/' + year + '/' + part + '/' + userId).then(function (res) {\n      console.log(res.data);\n      setAnswer(res.data[0].answer);\n      setLoading(false);\n    }).catch(function (err) {\n      console.log(err);\n      setLoading(false);\n    });\n  };\n\n  var postAnswer = function postAnswer(_ref2) {\n    var dataSend = _ref2.dataSend;\n    setLoading(true);\n    axiox.post('http://localhost:8080/answer/manager_assessment/' + year + '/' + part + '/' + userId, dataSend).then(function (res) {\n      console.log(res.data);\n      alert(\"บันทึกข้อมูลสำเร็จ\");\n      setLoading(false);\n    }).catch(function (err) {\n      console.log(err);\n      alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n      setLoading(false);\n    });\n  };\n\n  var renderList = function renderList(navigation) {\n    var renderItem = function renderItem(_ref3) {\n      var item = _ref3.item,\n          index = _ref3.index;\n      return React.createElement(View, {\n        style: {\n          backgroundColor: 'white',\n          padding: 8,\n          marginTop: 20,\n          marginHorizontal: 20\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 18\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }\n      }, \"\\u0E04\\u0E19\\u0E17\\u0E35\\u0E48 \", index + 1, \" \", React.createElement(Text, {\n        style: {\n          fontSize: 14,\n          color: 'blue'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 70\n        }\n      }, \"( \\u0E41\\u0E1C\\u0E19\\u0E01/\\u0E2A\\u0E32\\u0E02\\u0E32 \", item.department, \" )\")), React.createElement(View, {\n        style: {\n          margin: 8,\n          borderColor: 'gray',\n          borderWidth: 0.5,\n          borderRadius: 5,\n          padding: 8\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {},\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }\n      }, item.answer)));\n    };\n\n    return React.createElement(FlatList, {\n      data: allAnswer,\n      extraData: allAnswer,\n      keyExtractor: function keyExtractor(item, index) {\n        return \"\" + index;\n      },\n      renderItem: renderItem,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    });\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, USER.position === 'ผู้จัดการ' ? renderList(navigation) : React.createElement(View, {\n    style: {\n      padding: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: 'blue'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, \"*\\u0E43\\u0E2B\\u0E49\\u0E1E\\u0E19\\u0E31\\u0E01\\u0E07\\u0E32\\u0E19\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E04\\u0E27\\u0E32\\u0E21\\u0E04\\u0E34\\u0E14\\u0E40\\u0E2B\\u0E47\\u0E19\\u0E40\\u0E0A\\u0E34\\u0E07\\u0E1A\\u0E27\\u0E01\\u0E14\\u0E49\\u0E27\\u0E22\\u0E16\\u0E49\\u0E2D\\u0E22\\u0E04\\u0E33\\u0E2A\\u0E38\\u0E20\\u0E32\\u0E1E \\u0E27\\u0E48\\u0E32\\u0E2D\\u0E22\\u0E32\\u0E01\\u0E08\\u0E30\\u0E1B\\u0E23\\u0E31\\u0E1A\\u0E40\\u0E1B\\u0E25\\u0E35\\u0E48\\u0E22\\u0E19\\u0E2D\\u0E30\\u0E44\\u0E23 \\u0E41\\u0E01\\u0E49\\u0E15\\u0E23\\u0E07\\u0E08\\u0E38\\u0E14\\u0E44\\u0E2B\\u0E19\"), React.createElement(Text, {\n    style: {\n      color: 'red'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, \"*\\u0E1C\\u0E39\\u0E49\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E2B\\u0E31\\u0E27\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E17\\u0E38\\u0E01\\u0E04\\u0E19 \\u0E08\\u0E30\\u0E44\\u0E21\\u0E48\\u0E40\\u0E2B\\u0E47\\u0E19\\u0E27\\u0E48\\u0E32\\u0E43\\u0E04\\u0E23\\u0E40\\u0E1B\\u0E47\\u0E19\\u0E04\\u0E19\\u0E15\\u0E2D\\u0E1A \\u0E08\\u0E30\\u0E40\\u0E2B\\u0E47\\u0E19\\u0E40\\u0E1E\\u0E35\\u0E22\\u0E07\\u0E04\\u0E33\\u0E15\\u0E2D\\u0E1A\\u0E40\\u0E17\\u0E48\\u0E32\\u0E19\\u0E31\\u0E49\\u0E19\"), React.createElement(TextInput, {\n    style: {\n      backgroundColor: 'white',\n      marginTop: 20,\n      borderWidth: 1,\n      padding: 10,\n      borderRadius: 5,\n      marginVertical: 8,\n      height: 150\n    },\n    placeholder: \"\\u0E04\\u0E33\\u0E15\\u0E2D\\u0E1A\",\n    placeholderTextColor: \"gray\",\n    multiline: true,\n    numberOfLines: 6,\n    color: \"blue\",\n    fontSize: 16,\n    onChangeText: function onChangeText(text) {\n      setAnswer(text);\n    },\n    defaultValue: answer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }), React.createElement(Button, {\n    style: {\n      backgroundColor: 'green',\n      borderRadius: 10,\n      marginVertical: 8\n    },\n    mode: \"Contained\",\n    onPress: function onPress() {\n      var dataSend = {\n        answer: answer,\n        date: moment().format('yyyy-MM-DD'),\n        department: USER.department\n      };\n      postAnswer({\n        dataSend: dataSend\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: {\n      alignSelf: 'center',\n      color: 'white'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  }, \"\\u0E2A\\u0E48\\u0E07\\u0E04\\u0E33\\u0E15\\u0E2D\\u0E1A\"))));\n};\n\nexport default ManagerAssessmentScreen;","map":{"version":3,"sources":["/Users/drift/Documents/ReactNative/cal-assessment/src/screens/ManagerAssessmentScreen.js"],"names":["React","useState","useEffect","Button","Card","axiox","COLORS","SIZES","moment","USER","ManagerAssessmentScreen","navigation","route","userId","params","year","part","answer","setAnswer","loading","setLoading","allAnswer","setAllAnswer","console","log","position","getAllAnswer","getAnswer","get","department","then","res","data","catch","err","postAnswer","dataSend","post","alert","renderList","renderItem","item","index","backgroundColor","padding","marginTop","marginHorizontal","fontSize","color","margin","borderColor","borderWidth","borderRadius","flex","marginVertical","height","text","date","format","alignSelf"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, TextInput, FlatList, TouchableOpacity } from 'react-native';\nimport { Button, Card } from 'react-native-paper';\n\nimport axiox from 'axios';\nimport { COLORS, SIZES } from '../constants/theme';\n\nimport moment from 'moment';\nimport 'moment/locale/th';\nimport { USER } from '../constants/variables';\n\nconst ManagerAssessmentScreen = ({ navigation, route }) => {\n\n    // let sheetID = route.params.sheetID;\n    let userId = route.params.userId;\n    let year = route.params.year;\n    let part = route.params.part;\n\n    const [answer, setAnswer] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [allAnswer, setAllAnswer] = useState([]);\n\n    console.log(USER.position)\n\n    useEffect(() => {\n        setLoading(true);\n        USER.position === \"ผู้จัดการ\" ? getAllAnswer() : getAnswer()\n\n    }, []);\n\n    const getAllAnswer = () => {\n        setLoading(true);\n        console.log(\"getAll\")\n        axiox.get('http://localhost:8080/answer/manager_assessment/' + year + '/' + part + '/department/' + USER.department)\n            // console.log('https://program-api.herokuapp.com/' + year + '/' + part + '/' + answer.questionNumber + '/Answer/officer/' + userId, answer)\n            .then(res => {\n                console.log(res.data);\n                setAllAnswer(res.data)\n                // alert(\"บันทึกข้อมูลสำเร็จ\");\n                setLoading(false);\n            })\n            .catch(err => {\n                console.log(err)\n                // alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                setLoading(false);\n\n            });\n    }\n\n    const getAnswer = () => {\n        setLoading(true);\n        console.log(\"get\")\n        axiox.get('http://localhost:8080/answer/manager_assessment/' + year + '/' + part + '/' + userId)\n            // console.log('https://program-api.herokuapp.com/' + year + '/' + part + '/' + answer.questionNumber + '/Answer/officer/' + userId, answer)\n            .then(res => {\n                console.log(res.data);\n                setAnswer(res.data[0].answer)\n                // alert(\"บันทึกข้อมูลสำเร็จ\");\n                setLoading(false);\n            })\n            .catch(err => {\n                console.log(err)\n                // alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                setLoading(false);\n\n            });\n    }\n\n\n    const postAnswer = ({ dataSend }) => {\n        setLoading(true);\n        axiox.post('http://localhost:8080/answer/manager_assessment/' + year + '/' + part + '/' + userId, dataSend)\n            // console.log('https://program-api.herokuapp.com/' + year + '/' + part + '/' + answer.questionNumber + '/Answer/officer/' + userId, answer)\n            .then(res => {\n                console.log(res.data);\n                alert(\"บันทึกข้อมูลสำเร็จ\");\n                setLoading(false);\n            })\n            .catch(err => {\n                console.log(err)\n                alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                setLoading(false);\n\n            });\n    }\n\n    const renderList = (navigation) => {\n        const renderItem = ({ item, index }) => {\n\n            return (\n                <View style={{ backgroundColor: 'white', padding: 8, marginTop: 20, marginHorizontal: 20 }}>\n                    <Text style={{ fontSize: 18 }}>คนที่ {index + 1} <Text style={{ fontSize: 14, color: 'blue' }}>( แผนก/สาขา {item.department} )</Text></Text>\n                    <View style={{ margin: 8, borderColor: 'gray', borderWidth: 0.5, borderRadius: 5, padding: 8 }}>\n\n                        <Text style={{}}>{item.answer}</Text>\n                    </View>\n\n                </View>\n            )\n        }\n\n        return (\n            <FlatList\n                data={allAnswer}\n                extraData={allAnswer}\n                keyExtractor={(item, index) => `${index}`}\n                renderItem={renderItem}\n            />\n        )\n    }\n\n    return (\n        <View style={{ flex: 1, }}>\n\n            {USER.position === 'ผู้จัดการ' ?\n\n                renderList(navigation)\n                :\n                <View style={{ padding: 20 }}>\n                    <Text style={{ color: 'blue' }}>*ให้พนักงานแสดงความคิดเห็นเชิงบวกด้วยถ้อยคำสุภาพ ว่าอยากจะปรับเปลี่ยนอะไร แก้ตรงจุดไหน</Text>\n                    <Text style={{ color: 'red' }}>*ผู้จัดการหรือหัวหน้าทุกคน จะไม่เห็นว่าใครเป็นคนตอบ จะเห็นเพียงคำตอบเท่านั้น</Text>\n\n                    <TextInput\n                        style={{ backgroundColor: 'white', marginTop: 20, borderWidth: 1, padding: 10, borderRadius: 5, marginVertical: 8, height: 150 }}\n                        // textContentType='telephoneNumber'\n                        placeholder=\"คำตอบ\"\n                        placeholderTextColor=\"gray\"\n                        multiline\n                        numberOfLines={6}\n                        color='blue'\n                        fontSize={16}\n                        onChangeText={text => {\n                            setAnswer(text);\n                        }}\n                        defaultValue={answer}\n                    />\n\n                    <Button\n                        style={{\n                            backgroundColor: 'green',\n                            borderRadius: 10,\n                            marginVertical: 8\n                        }}\n                        mode=\"Contained\"\n                        onPress={() => {\n                            const dataSend = {\n                                answer: answer,\n                                date: moment().format('yyyy-MM-DD'),\n                                department: USER.department\n                            }\n                            postAnswer({ dataSend });\n                        }}\n                    >\n                        <Text style={{ alignSelf: 'center', color: 'white' }}>ส่งคำตอบ</Text>\n                    </Button>\n                </View>\n            }\n        </View>\n    );\n};\n\nexport default ManagerAssessmentScreen;"]},"metadata":{},"sourceType":"module"}