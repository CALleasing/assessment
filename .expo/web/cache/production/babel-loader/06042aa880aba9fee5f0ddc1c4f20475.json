{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useState,useEffect}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TextInput from\"react-native-web/dist/exports/TextInput\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{Button,Avatar}from'react-native-paper';import*as Animatable from'react-native-animatable';import{AuthContext}from\"../components/context\";import axiox from'axios';import Icon from\"@expo/vector-icons/FontAwesome\";import{COLORS}from\"../constants/theme\";var LoginScreen=function LoginScreen(_ref){var navigation=_ref.navigation;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),textError=_useState2[0],setTextError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState({username:'',password:'',check_textInputChange:false,secureTextEntry:true}),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var login=function login(){var object={userid:data.username,password:data.password};axiox.post('https://program-api.herokuapp.com/login',object).then(function(res){console.log(res.data);setIsLoading(false);loginHandle(data.username,data.password);}).catch(function(err){setTextError(\"User ID หรือ Password ไม่ถูกต้อง\");console.log(err);setIsLoading(false);});};var _React$useContext=React.useContext(AuthContext),signIn=_React$useContext.signIn;var textInputChange=function textInputChange(val){if(val.length!=0){setData(_objectSpread(_objectSpread({},data),{},{username:val,check_textInputChange:true}));}else{setData(_objectSpread(_objectSpread({},data),{},{username:val,check_textInputChange:false}));}};var handlePasswordChange=function handlePasswordChange(val){setData(_objectSpread(_objectSpread({},data),{},{password:val}));};var updateSecureTextEntry=function updateSecureTextEntry(val){setData(_objectSpread(_objectSpread({},data),{},{secureTextEntry:!data.secureTextEntry}));};var loginHandle=function loginHandle(username,password){signIn(username,password);};return React.createElement(View,{style:styles.container},React.createElement(View,{style:styles.header},React.createElement(Text,{style:styles.text_header},\"\\u0E41\\u0E1A\\u0E1A\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E1E\\u0E19\\u0E31\\u0E01\\u0E07\\u0E32\\u0E19\")),React.createElement(Animatable.View,{style:styles.footer,animation:\"fadeInUpBig\"},React.createElement(Text,{style:styles.text_footer},\"User ID\"),React.createElement(View,{style:styles.action},React.createElement(Icon,{name:\"user\",color:COLORS.primary,size:20}),React.createElement(TextInput,{placeholder:\"User ID ...\",style:styles.text_input,onChangeText:function onChangeText(val){return textInputChange(val);}})),React.createElement(Text,{style:styles.text_footer},\"Password\"),React.createElement(View,{style:styles.action},React.createElement(Icon,{name:\"lock\",color:COLORS.primary,size:20}),React.createElement(TextInput,{placeholder:\"Password ...\",style:styles.text_input,onChangeText:function onChangeText(val){return handlePasswordChange(val);}})),React.createElement(Text,{style:{alignSelf:'center',color:'red',marginTop:26}},textError),React.createElement(Button,{style:{borderRadius:10,marginTop:16,backgroundColor:COLORS.primary},mode:\"contained\",onPress:function onPress(){setIsLoading(true);login();}},React.createElement(Text,{style:{fontSize:18}},\"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\")),isLoading?React.createElement(ActivityIndicator,{style:{marginTop:20,alignItems:'center',justifyContent:'center'},size:\"large\",color:\"#0275d8\"}):null));};var styles=StyleSheet.create({container:{flex:1,backgroundColor:COLORS.primary},footer:{flex:4,backgroundColor:'white',borderTopLeftRadius:30,borderTopRightRadius:30,paddingHorizontal:20,paddingVertical:30},header:{flex:1,justifyContent:'flex-end',paddingHorizontal:20,paddingBottom:50},logo:{alignItems:'center',justifyContent:'center'},text_header:{alignSelf:'center',justifyContent:'center',color:'white',fontWeight:'bold',fontSize:24},action:{flexDirection:'row',margin:10,borderBottomWidth:1,borderBottomColor:'#f2f2f2',paddingBottom:5},text_input:{flex:1,paddingLeft:10,color:'#008080'},text_footer:{color:COLORS.primary,fontSize:18}});export default LoginScreen;","map":{"version":3,"sources":["/Users/drift/Documents/ReactNative/cal-assessment/src/screens/LoginScreen.js"],"names":["React","useState","useEffect","Button","Avatar","Animatable","AuthContext","axiox","Icon","COLORS","LoginScreen","navigation","textError","setTextError","isLoading","setIsLoading","username","password","check_textInputChange","secureTextEntry","data","setData","login","object","userid","post","then","res","console","log","loginHandle","catch","err","useContext","signIn","textInputChange","val","length","handlePasswordChange","updateSecureTextEntry","styles","container","header","text_header","footer","text_footer","action","primary","text_input","alignSelf","color","marginTop","borderRadius","backgroundColor","fontSize","alignItems","justifyContent","StyleSheet","create","flex","borderTopLeftRadius","borderTopRightRadius","paddingHorizontal","paddingVertical","paddingBottom","logo","fontWeight","flexDirection","margin","borderBottomWidth","borderBottomColor","paddingLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, TextInput, SafeAreaView, ScrollView, ActivityIndicator, StyleSheet } from 'react-native';\nimport { Button, Avatar } from 'react-native-paper';\nimport * as Animatable from 'react-native-animatable';\n\nimport { AuthContext } from '../components/context';\nimport axiox from 'axios';\n\nimport Icon from 'react-native-vector-icons/FontAwesome';\nimport { COLORS } from '../constants/theme';\n\nconst LoginScreen = ({ navigation }) => {\n\n    const [textError, setTextError] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false);\n\n    const [data, setData] = useState({\n        username: '',\n        password: '',\n        check_textInputChange: false,\n        secureTextEntry: true\n    });\n\n    const login = () => {\n        const object = {\n            userid: data.username,\n            password: data.password\n        }\n\n        axiox.post('https://program-api.herokuapp.com/login', object)\n            .then(res => {\n                console.log(res.data);\n                setIsLoading(false);\n                loginHandle(data.username, data.password);\n\n            })\n            .catch(err => {\n                // showDialog();\n                // setTextQueue(\"การจองล้มเหลว \\nเนื่องจากคิวเต็ม\");\n                // setStatus(\"จองคิวล้มเหลว\");\n                setTextError(\"User ID หรือ Password ไม่ถูกต้อง\")\n                console.log(err)\n                setIsLoading(false);\n            });\n\n    }\n\n    const { signIn } = React.useContext(AuthContext);\n\n    const textInputChange = (val) => {\n        if (val.length != 0) {\n            setData({\n                ...data,\n                username: val,\n                check_textInputChange: true\n            });\n        } else {\n            setData({\n                ...data,\n                username: val,\n                check_textInputChange: false\n            });\n        }\n    }\n\n    const handlePasswordChange = (val) => {\n        setData({\n            ...data,\n            password: val,\n        });\n    }\n\n    const updateSecureTextEntry = (val) => {\n        setData({\n            ...data,\n            secureTextEntry: !data.secureTextEntry\n        });\n    }\n\n    const loginHandle = (username, password) => {\n        signIn(username, password);\n        // console.log(username, password);\n    }\n\n    return (\n        <View style={styles.container}>\n\n            <View style={styles.header}>\n\n                <Text style={styles.text_header}>แบบประเมินพนักงาน</Text>\n            </View>\n            {/* <Text> CAL</Text> */}\n            <Animatable.View style={styles.footer}\n                animation='fadeInUpBig'>\n                <Text style={styles.text_footer}>User ID</Text>\n                <View style={styles.action}>\n                    <Icon name='user'\n                        color={COLORS.primary}\n                        size={20} />\n                    <TextInput placeholder=\"User ID ...\"\n                        style={styles.text_input}\n                        onChangeText={(val) => textInputChange(val)} />\n                </View>\n\n                <Text style={styles.text_footer}>Password</Text>\n                <View style={styles.action}>\n                    <Icon name='lock'\n                        color={COLORS.primary}\n                        size={20} />\n                    <TextInput placeholder=\"Password ...\"\n                        style={styles.text_input}\n                        onChangeText={(val) => handlePasswordChange(val)} />\n                </View>\n\n                <Text style={{ alignSelf: 'center', color: 'red', marginTop: 26 }}>{textError}</Text>\n\n                <Button\n                    style={{ borderRadius: 10, marginTop: 16, backgroundColor: COLORS.primary }}\n                    // icon=\"camera\"\n                    mode=\"contained\"\n                    onPress={() => {\n                        setIsLoading(true);\n                        login();\n                    }}>\n                    <Text style={{ fontSize: 18}}>เข้าสู่ระบบ</Text>\n                </Button>\n\n                {isLoading ?\n\n                    <ActivityIndicator style={{\n                        marginTop: 20,\n                        // position: 'absolute',\n                        // left: 0,\n                        // right: 0,\n                        // top: 0,\n                        // bottom: 0,\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                    }} size=\"large\" color=\"#0275d8\" />\n\n                    :\n\n                    null\n                }\n\n\n            </Animatable.View>\n\n        </View>\n\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        // justifyContent: 'center',\n        flex: 1,\n        backgroundColor: COLORS.primary\n    },\n    footer: {\n        flex: 4,\n        // justifyContent: 'center',\n        backgroundColor: 'white',\n        borderTopLeftRadius: 30,\n        borderTopRightRadius: 30,\n        paddingHorizontal: 20,\n        paddingVertical: 30\n    },\n    header: {\n        flex: 1,\n        justifyContent: 'flex-end',\n        paddingHorizontal: 20,\n        paddingBottom: 50,\n    },\n    logo: {\n        alignItems: 'center',\n        justifyContent: 'center',\n        // marginTop: 50\n    },\n    text_header: {\n        alignSelf: 'center',\n        justifyContent: 'center',\n        color: 'white',\n        fontWeight: 'bold',\n        fontSize: 24\n    },\n    action: {\n        flexDirection: 'row',\n        margin: 10,\n        borderBottomWidth: 1,\n        borderBottomColor: '#f2f2f2',\n        paddingBottom: 5\n    },\n    text_input: {\n        flex: 1,\n        paddingLeft: 10,\n        color: '#008080'\n    },\n    text_footer: {\n        color: COLORS.primary,\n        fontSize: 18,\n    },\n})\n\nexport default LoginScreen;"]},"metadata":{},"sourceType":"module"}