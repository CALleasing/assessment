{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TextInput from\"react-native-web/dist/exports/TextInput\";import FlatList from\"react-native-web/dist/exports/FlatList\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import*as Animatable from'react-native-animatable';import Icon from\"@expo/vector-icons/FontAwesome\";import axiox from'axios';import moment from'moment';import'moment/locale/th';import{MAIN_URL,USER}from\"../constants/variables\";import{Button}from'react-native-paper';import{COLORS}from\"../constants/theme\";var EmployeeStatusScreen=function EmployeeStatusScreen(_ref){var route=_ref.route;var user=route.params.user;console.log(user);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),selected=_useState2[0],setSelected=_useState2[1];var _useState3=useState('1. โน้มน้าวใจให้เขาอยู่ต่อ'),_useState4=_slicedToArray(_useState3,2),answer=_useState4[0],setAnswer=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),reason=_useState6[0],setReason=_useState6[1];var list=[{id:1,question:'1. โน้มน้าวใจให้เขาอยู่ต่อ'},{id:2,question:'2. ไม่แน่ใจ (ปรับทัศนคติใหม่)'},{id:3,question:'3. เฉยๆ (เดี๋ยวหาใหม่ก็ได้)'},{id:4,question:'4. โล่งใจ'}];var postAnswer=function postAnswer(_ref2){var dataSend=_ref2.dataSend;console.log();axiox.post(MAIN_URL+'/answer/assessment',dataSend).then(function(res){alert(\"บันทึกข้อมูลสำเร็จ\");}).catch(function(err){console.log(err);alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");});};var renderList=function renderList(_ref3){var item=_ref3.item,index=_ref3.index;return React.createElement(TouchableOpacity,{style:{margin:8},onPress:function onPress(){setSelected(index);setAnswer(item.question);}},selected===index?React.createElement(View,{style:{flexDirection:'row'}},React.createElement(Icon,{name:\"check-circle\",color:COLORS.primary,size:30}),React.createElement(Text,{style:{fontSize:16,alignSelf:'center'}},\" \",item.question)):React.createElement(View,{style:{flexDirection:'row'}},React.createElement(Icon,{name:\"circle\",color:COLORS.primary,size:30}),React.createElement(Text,{style:{fontSize:16,alignSelf:'center'}},\" \",item.question)));};return React.createElement(Animatable.View,{style:{flex:1,padding:20,backgroundColor:'white'},animation:\"fadeIn\"},React.createElement(View,{style:{marginVertical:24}},React.createElement(FlatList,{data:list,renderItem:renderList,keyExtractor:function keyExtractor(item,index){return\"\"+index;},ListHeaderComponent:React.createElement(Text,{style:{fontSize:18,marginBottom:20}},\"\\u0E2B\\u0E32\\u0E01\",React.createElement(Text,{style:{fontStyle:'italic',fontSize:18,color:'blue'}},' ',\" \",user.title_name,user.name,\" \",user.lastname,React.createElement(Text,{style:{color:'red',fontSize:18}},\" \\u0E25\\u0E32\\u0E2D\\u0E2D\\u0E01\")),' ',\"\\u0E17\\u0E48\\u0E32\\u0E19\\u0E08\\u0E30\\u0E17\\u0E33\\u0E2D\\u0E22\\u0E48\\u0E32\\u0E07\\u0E44\\u0E23?\"),ListFooterComponent:React.createElement(View,null,React.createElement(TextInput,{style:{backgroundColor:'white',marginTop:20,borderWidth:1,padding:10,borderRadius:5,marginVertical:8,height:150},placeholder:\"\\u0E40\\u0E2B\\u0E15\\u0E38\\u0E1C\\u0E25\\u0E40\\u0E1E\\u0E23\\u0E32\\u0E30\\u0E2D\\u0E30\\u0E44\\u0E23\",placeholderTextColor:\"gray\",multiline:true,numberOfLines:6,color:\"blue\",fontSize:16,onChangeText:function onChangeText(text){setReason(text);}}),React.createElement(Button,{style:{backgroundColor:'green',borderRadius:10,marginVertical:16},mode:\"Contained\",onPress:function onPress(){console.log(user);var dataSend={userid:user.userid,name:user.name,lastname:user.lastname,nickname:user.nickname,answer:answer,reason:reason,department:user.department,date:moment().format('yyyy-MM-DD'),manager_id:USER.userid,manager_name:USER.name,manager_lastname:USER.lastname,manager_nickname:USER.nickname};console.log(dataSend);postAnswer({dataSend:dataSend});}},React.createElement(Text,{style:{alignSelf:'center',color:'white'}},\"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E04\\u0E33\\u0E15\\u0E2D\\u0E1A\")))})));};export default EmployeeStatusScreen;","map":{"version":3,"sources":["/Users/drift/Documents/ReactNative/cal-assessment/src/screens/EmployeeStatusScreen.js"],"names":["React","useState","Animatable","Icon","axiox","moment","MAIN_URL","USER","Button","COLORS","EmployeeStatusScreen","route","user","params","console","log","selected","setSelected","answer","setAnswer","reason","setReason","list","id","question","postAnswer","dataSend","post","then","res","alert","catch","err","renderList","item","index","margin","flexDirection","primary","fontSize","alignSelf","flex","padding","backgroundColor","marginVertical","marginBottom","fontStyle","color","title_name","name","lastname","marginTop","borderWidth","borderRadius","height","text","userid","nickname","department","date","format","manager_id","manager_name","manager_lastname","manager_nickname"],"mappings":"iEAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,mTAEA,MAAO,GAAKC,CAAAA,UAAZ,KAA4B,yBAA5B,CACA,MAAOC,CAAAA,IAAP,sCAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAO,kBAAP,CAEA,OAASC,QAAT,CAAmBC,IAAnB,8BACA,OAASC,MAAT,KAAuB,oBAAvB,CACA,OAASC,MAAT,0BAEA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,MAAe,IAAZC,CAAAA,KAAY,MAAZA,KAAY,CAExC,GAAIC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaD,IAAxB,CACAE,OAAO,CAACC,GAAR,CAAYH,IAAZ,EACA,cAAgCX,QAAQ,CAAC,CAAD,CAAxC,wCAAOe,QAAP,eAAiBC,WAAjB,eACA,eAA4BhB,QAAQ,CAAC,4BAAD,CAApC,yCAAOiB,MAAP,eAAeC,SAAf,eACA,eAA4BlB,QAAQ,CAAC,EAAD,CAApC,yCAAOmB,MAAP,eAAeC,SAAf,eACA,GAAMC,CAAAA,IAAI,CAAG,CACT,CACIC,EAAE,CAAE,CADR,CAEIC,QAAQ,CAAE,4BAFd,CADS,CAKT,CACID,EAAE,CAAE,CADR,CAEIC,QAAQ,CAAE,+BAFd,CALS,CAST,CACID,EAAE,CAAE,CADR,CAEIC,QAAQ,CAAE,6BAFd,CATS,CAaT,CACID,EAAE,CAAE,CADR,CAEIC,QAAQ,CAAE,WAFd,CAbS,CAAb,CAmBA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,OAAkB,IAAfC,CAAAA,QAAe,OAAfA,QAAe,CACjCZ,OAAO,CAACC,GAAR,GACAX,KAAK,CAACuB,IAAN,CAAWrB,QAAQ,CAAG,oBAAtB,CAA4CoB,QAA5C,EAEKE,IAFL,CAEU,SAAAC,GAAG,CAAI,CAETC,KAAK,CAAC,oBAAD,CAAL,CAEH,CANL,EAOKC,KAPL,CAOW,SAAAC,GAAG,CAAI,CACVlB,OAAO,CAACC,GAAR,CAAYiB,GAAZ,EACAF,KAAK,CAAC,kCAAD,CAAL,CAGH,CAZL,EAaH,CAfD,CAiBA,GAAMG,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,OAAqB,IAAlBC,CAAAA,IAAkB,OAAlBA,IAAkB,CAAZC,KAAY,OAAZA,KAAY,CACpC,MACI,qBAAC,gBAAD,EACI,KAAK,CAAE,CAAEC,MAAM,CAAE,CAAV,CADX,CAEI,OAAO,CAAE,kBAAM,CACXnB,WAAW,CAACkB,KAAD,CAAX,CACAhB,SAAS,CAACe,IAAI,CAACV,QAAN,CAAT,CACH,CALL,EAMKR,QAAQ,GAAKmB,KAAb,CACG,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEE,aAAa,CAAE,KAAjB,CAAb,EACI,oBAAC,IAAD,EAAM,IAAI,CAAC,cAAX,CACI,KAAK,CAAE5B,MAAM,CAAC6B,OADlB,CAEI,IAAI,CAAE,EAFV,EADJ,CAII,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAgBC,SAAS,CAAE,QAA3B,CAAb,MAAsDN,IAAI,CAACV,QAA3D,CAJJ,CADH,CAQG,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEa,aAAa,CAAE,KAAjB,CAAb,EACI,oBAAC,IAAD,EAAM,IAAI,CAAC,QAAX,CACI,KAAK,CAAE5B,MAAM,CAAC6B,OADlB,CAEI,IAAI,CAAE,EAFV,EADJ,CAII,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAgBC,SAAS,CAAE,QAA3B,CAAb,MAAsDN,IAAI,CAACV,QAA3D,CAJJ,CAdR,CADJ,CAwBH,CAzBD,CA2BA,MACI,qBAAC,UAAD,CAAY,IAAZ,EACI,KAAK,CAAE,CAAEiB,IAAI,CAAE,CAAR,CAAWC,OAAO,CAAE,EAApB,CAAwBC,eAAe,CAAE,OAAzC,CADX,CAEI,SAAS,CAAC,QAFd,EAKI,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEC,cAAc,CAAE,EAAlB,CAAb,EACI,oBAAC,QAAD,EACI,IAAI,CAAEtB,IADV,CAEI,UAAU,CAAEW,UAFhB,CAII,YAAY,CAAE,sBAACC,IAAD,CAAOC,KAAP,WAAoBA,KAApB,EAJlB,CAKI,mBAAmB,CACf,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEI,QAAQ,CAAE,EAAZ,CAAgBM,YAAY,CAAE,EAA9B,CAAb,uBACI,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAb,CAAuBP,QAAQ,CAAE,EAAjC,CAAqCQ,KAAK,CAAE,MAA5C,CAAb,EACK,GADL,KACWnC,IAAI,CAACoC,UADhB,CAC4BpC,IAAI,CAACqC,IADjC,KACwCrC,IAAI,CAACsC,QAD7C,CAEI,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEH,KAAK,CAAE,KAAT,CAAgBR,QAAQ,CAAE,EAA1B,CAAb,oCAFJ,CADJ,CAKK,GALL,+FANR,CAcI,mBAAmB,CACf,oBAAC,IAAD,MACI,oBAAC,SAAD,EACI,KAAK,CAAE,CAAEI,eAAe,CAAE,OAAnB,CAA4BQ,SAAS,CAAE,EAAvC,CAA2CC,WAAW,CAAE,CAAxD,CAA2DV,OAAO,CAAE,EAApE,CAAwEW,YAAY,CAAE,CAAtF,CAAyFT,cAAc,CAAE,CAAzG,CAA4GU,MAAM,CAAE,GAApH,CADX,CAGI,WAAW,CAAC,4FAHhB,CAII,oBAAoB,CAAC,MAJzB,CAKI,SAAS,KALb,CAMI,aAAa,CAAE,CANnB,CAOI,KAAK,CAAC,MAPV,CAQI,QAAQ,CAAE,EARd,CASI,YAAY,CAAE,sBAAAC,IAAI,CAAI,CAClBlC,SAAS,CAACkC,IAAD,CAAT,CACH,CAXL,EADJ,CAeI,oBAAC,MAAD,EACI,KAAK,CAAE,CACHZ,eAAe,CAAE,OADd,CAEHU,YAAY,CAAE,EAFX,CAGHT,cAAc,CAAE,EAHb,CADX,CAMI,IAAI,CAAC,WANT,CAOI,OAAO,CAAE,kBAAM,CACX9B,OAAO,CAACC,GAAR,CAAYH,IAAZ,EACA,GAAMc,CAAAA,QAAQ,CAAG,CACb8B,MAAM,CAAE5C,IAAI,CAAC4C,MADA,CAEbP,IAAI,CAAErC,IAAI,CAACqC,IAFE,CAGbC,QAAQ,CAAEtC,IAAI,CAACsC,QAHF,CAIbO,QAAQ,CAAE7C,IAAI,CAAC6C,QAJF,CAKbvC,MAAM,CAAEA,MALK,CAMbE,MAAM,CAAEA,MANK,CAObsC,UAAU,CAAE9C,IAAI,CAAC8C,UAPJ,CAQbC,IAAI,CAAEtD,MAAM,GAAGuD,MAAT,CAAgB,YAAhB,CARO,CASbC,UAAU,CAAEtD,IAAI,CAACiD,MATJ,CAUbM,YAAY,CAAEvD,IAAI,CAAC0C,IAVN,CAWbc,gBAAgB,CAAExD,IAAI,CAAC2C,QAXV,CAYbc,gBAAgB,CAAEzD,IAAI,CAACkD,QAZV,CAAjB,CAcA3C,OAAO,CAACC,GAAR,CAAYW,QAAZ,EAKAD,UAAU,CAAC,CAAEC,QAAQ,CAARA,QAAF,CAAD,CAAV,CACH,CA7BL,EA+BI,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEc,SAAS,CAAE,QAAb,CAAuBO,KAAK,CAAE,OAA9B,CAAb,uEA/BJ,CAfJ,CAfR,EADJ,CALJ,CADJ,CA8EH,CApJD,CAsJA,cAAerC,CAAAA,oBAAf","sourcesContent":["import React, { useState } from 'react';\nimport { View, Text, TextInput, FlatList, TouchableOpacity } from 'react-native';\nimport * as Animatable from 'react-native-animatable';\nimport Icon from 'react-native-vector-icons/FontAwesome';\n\nimport axiox from 'axios';\nimport moment from 'moment';\nimport 'moment/locale/th';\n\nimport { MAIN_URL, USER } from '../constants/variables';\nimport { Button } from 'react-native-paper';\nimport { COLORS } from '../constants/theme';\n\nconst EmployeeStatusScreen = ({ route }) => {\n\n    let user = route.params.user;\n    console.log(user)\n    const [selected, setSelected] = useState(0);\n    const [answer, setAnswer] = useState('1. โน้มน้าวใจให้เขาอยู่ต่อ');\n    const [reason, setReason] = useState('');\n    const list = [\n        {\n            id: 1,\n            question: '1. โน้มน้าวใจให้เขาอยู่ต่อ'\n        },\n        {\n            id: 2,\n            question: '2. ไม่แน่ใจ (ปรับทัศนคติใหม่)'\n        },\n        {\n            id: 3,\n            question: '3. เฉยๆ (เดี๋ยวหาใหม่ก็ได้)'\n        },\n        {\n            id: 4,\n            question: '4. โล่งใจ'\n        }\n    ]\n    \n    const postAnswer = ({ dataSend }) => {\n        console.log()\n        axiox.post(MAIN_URL + '/answer/assessment', dataSend)\n            // console.log('https://program-api.herokuapp.com/' + year + '/' + part + '/' + answer.questionNumber + '/Answer/officer/' + userId, answer)\n            .then(res => {\n                // console.log(res.data);\n                alert(\"บันทึกข้อมูลสำเร็จ\");\n                // setLoading(false);\n            })\n            .catch(err => {\n                console.log(err)\n                alert(\"บันทึกข้อมูลล้มเหลว กรุณาลองใหม่\");\n                // setLoading(false);\n\n            });\n    }\n\n    const renderList = ({ item, index }) => {\n        return (\n            <TouchableOpacity\n                style={{ margin: 8 }}\n                onPress={() => {\n                    setSelected(index);\n                    setAnswer(item.question);\n                }}>\n                {selected === index ?\n                    <View style={{ flexDirection: 'row' }}>\n                        <Icon name='check-circle'\n                            color={COLORS.primary}\n                            size={30} />\n                        <Text style={{ fontSize: 16, alignSelf: 'center' }}> {item.question}</Text>\n                    </View>\n                    :\n                    <View style={{ flexDirection: 'row' }}>\n                        <Icon name='circle'\n                            color={COLORS.primary}\n                            size={30} />\n                        <Text style={{ fontSize: 16, alignSelf: 'center' }}> {item.question}</Text>\n                    </View>\n                }\n            </TouchableOpacity>\n        )\n    }\n\n    return (\n        <Animatable.View\n            style={{ flex: 1, padding: 20, backgroundColor: 'white' }}\n            animation='fadeIn'>\n\n\n            <View style={{ marginVertical: 24 }}>\n                <FlatList\n                    data={list}\n                    renderItem={renderList}\n                    // numColumns={2}\n                    keyExtractor={(item, index) => `${index}`}\n                    ListHeaderComponent={\n                        <Text style={{ fontSize: 18, marginBottom: 20 }}>หาก\n                            <Text style={{ fontStyle: 'italic', fontSize: 18, color: 'blue' }}>\n                                {' '} {user.title_name}{user.name} {user.lastname}\n                                <Text style={{ color: 'red', fontSize: 18 }}> ลาออก</Text>\n                            </Text>\n                            {' '}ท่านจะทำอย่างไร?\n                        </Text>\n                    }\n                    ListFooterComponent={\n                        <View>\n                            <TextInput\n                                style={{ backgroundColor: 'white', marginTop: 20, borderWidth: 1, padding: 10, borderRadius: 5, marginVertical: 8, height: 150 }}\n                                // textContentType='telephoneNumber'\n                                placeholder=\"เหตุผลเพราะอะไร\"\n                                placeholderTextColor=\"gray\"\n                                multiline\n                                numberOfLines={6}\n                                color='blue'\n                                fontSize={16}\n                                onChangeText={text => {\n                                    setReason(text)\n                                }}\n                            // defaultValue={item.answer}\n                            />\n                            <Button\n                                style={{\n                                    backgroundColor: 'green',\n                                    borderRadius: 10,\n                                    marginVertical: 16\n                                }}\n                                mode=\"Contained\"\n                                onPress={() => {\n                                    console.log(user);\n                                    const dataSend = {\n                                        userid: user.userid,\n                                        name: user.name,\n                                        lastname: user.lastname,\n                                        nickname: user.nickname,\n                                        answer: answer,\n                                        reason: reason,\n                                        department: user.department,\n                                        date: moment().format('yyyy-MM-DD'),\n                                        manager_id: USER.userid,\n                                        manager_name: USER.name,\n                                        manager_lastname: USER.lastname,\n                                        manager_nickname: USER.nickname\n                                    }\n                                    console.log(dataSend)\n                                    // console.log(\"year\", year)\n                                    // console.log(\"part\", part)\n                                    // console.log(\"number\", item.number)\n                                    // console.log(\"userid\", USER.userid)\n                                    postAnswer({ dataSend });\n                                }}\n                            >\n                                <Text style={{ alignSelf: 'center', color: 'white' }}>บันทึกคำตอบ</Text>\n                            </Button>\n                        </View>\n\n                    }\n                />\n            </View>\n        </Animatable.View>\n\n    )\n}\n\nexport default EmployeeStatusScreen;"]},"metadata":{},"sourceType":"module"}