{"ast":null,"code":"import React from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import{TouchableOpacity}from'react-native-gesture-handler';import{Button,Card}from'react-native-paper';import{FlatList}from'react-native-gesture-handler';import*as Animatable from'react-native-animatable';import moment from'moment';import'moment/locale/th';import{TYPE,USER}from\"../constants/variables\";var AssessmentScreen=function AssessmentScreen(_ref){var navigation=_ref.navigation,route=_ref.route;var sheetID=route.params.item;var presentYear=new Date();var passedYear=new Date();passedYear.setFullYear(presentYear.getFullYear()-5);var allYear=[];var renderYearList=function renderYearList(_ref2){var navigation=_ref2.navigation;while(presentYear>passedYear){allYear.push(new Date(presentYear));presentYear.setFullYear(presentYear.getFullYear()-1);}var renderItem=function renderItem(_ref3){var item=_ref3.item;return React.createElement(View,{style:{flexDirection:'row',justifyContent:'space-evenly'}},React.createElement(Button,{style:{backgroundColor:'#4682B4',borderRadius:10,marginVertical:8,padding:8},mode:\"Contained\",onPress:function onPress(){switch(sheetID){case 1:navigation.navigate('Questionnaire',{userId:USER.userid,sheetID:sheetID,year:moment(item).format('yyyy'),part:1});break;case 2:navigation.navigate('UserList',{userId:null,sheetID:sheetID,year:moment(item).format('yyyy'),part:1});break;case 3:navigation.navigate('SelectQuestion',{userId:null,sheetID:sheetID,year:moment(item).format('yyyy'),part:1});break;case 4:if(USER.position!='ผู้จัดการ'){navigation.navigate('ManagerList',{userId:USER.userid,sheetID:sheetID,year:moment(item).format('yyyy'),part:1});}else{navigation.navigate('StaffComment',{userId:USER.userid,sheetID:sheetID,year:moment(item).format('yyyy'),part:1});}break;default:break;}}},React.createElement(Text,{style:{color:'white',fontSize:24,fontStyle:'italic',fontWeight:'bold',alignSelf:'center'}},moment(item).format('yyyy'),\"-1\")),React.createElement(Button,{style:{backgroundColor:'#2E8B57',borderRadius:10,marginVertical:8,padding:8},mode:\"Contained\",onPress:function onPress(){switch(sheetID){case 1:navigation.navigate('Questionnaire',{userId:USER.userid,sheetID:sheetID,year:moment(item).format('yyyy'),part:2});break;case 2:navigation.navigate('UserList',{userId:null,sheetID:sheetID,year:moment(item).format('yyyy'),part:2});break;case 3:navigation.navigate('SelectQuestion',{userId:null,sheetID:sheetID,year:moment(item).format('yyyy'),part:2});break;case 4:if(USER.position!='ผู้จัดการ'){navigation.navigate('ManagerList',{userId:USER.userid,sheetID:sheetID,year:moment(item).format('yyyy'),part:2});}else{navigation.navigate('StaffComment',{userId:USER.userid,sheetID:sheetID,year:moment(item).format('yyyy'),part:2});};break;}}},React.createElement(Text,{style:{color:'white',fontSize:24,fontStyle:'italic',fontWeight:'bold',alignSelf:'center'}},moment(item).format('yyyy'),\"-2\")));};return React.createElement(FlatList,{data:allYear,keyExtractor:function keyExtractor(item){return\"\"+item;},renderItem:renderItem});};return React.createElement(Animatable.View,{style:{flex:1,backgroundColor:'white'},animation:\"fadeIn\"},renderYearList({navigation:navigation}));};var styles=StyleSheet.create({});export default AssessmentScreen;","map":{"version":3,"sources":["/Users/drift/Documents/ReactNative/cal-assessment/src/screens/AssessmentScreen.js"],"names":["React","TouchableOpacity","Button","Card","FlatList","Animatable","moment","TYPE","USER","AssessmentScreen","navigation","route","sheetID","params","item","presentYear","Date","passedYear","setFullYear","getFullYear","allYear","renderYearList","push","renderItem","flexDirection","justifyContent","backgroundColor","borderRadius","marginVertical","padding","navigate","userId","userid","year","format","part","position","color","fontSize","fontStyle","fontWeight","alignSelf","flex","styles","StyleSheet","create"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { View, Text, SafeAreaView, StyleSheet, ScrollView } from 'react-native';\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport { Button, Card } from 'react-native-paper';\nimport { FlatList } from 'react-native-gesture-handler';\nimport * as Animatable from 'react-native-animatable';\n\nimport moment from 'moment';\nimport 'moment/locale/th';\nimport { TYPE, USER } from '../constants/variables';\n\nconst AssessmentScreen = ({ navigation, route }) => {\n\n    let sheetID = route.params.item;\n    // console.log(sheetID);\n    let presentYear = new Date();\n    let passedYear = new Date();\n    passedYear.setFullYear(presentYear.getFullYear() - 5);\n    // console.log(passedYear);\n\n    var allYear = [];\n\n    const renderYearList = ({ navigation }) => {\n        while (presentYear > passedYear) {\n            allYear.push(new Date(presentYear));\n            presentYear.setFullYear(presentYear.getFullYear() - 1);\n        }\n\n        const renderItem = ({ item }) => {\n            // if(checkDate != undefined && Object.entries(checkDate).length !== 0){\n            return (\n                <View style={{ flexDirection: 'row', justifyContent: 'space-evenly' }}>\n                    <Button\n                        style={{\n                            backgroundColor: '#4682B4',\n                            borderRadius: 10,\n                            marginVertical: 8,\n                            padding: 8,\n                        }}\n                        mode=\"Contained\"\n                        onPress={() => {\n                            switch (sheetID) {\n                                case 1:\n                                    navigation.navigate('Questionnaire',\n                                        {\n                                            userId: USER.userid,\n                                            sheetID: sheetID,\n                                            year: moment(item).format('yyyy'),\n                                            part: 1\n                                        }\n                                    );\n                                    break;\n\n                                case 2:\n                                    navigation.navigate('UserList',\n                                        {\n                                            userId: null,\n                                            sheetID: sheetID,\n                                            year: moment(item).format('yyyy'),\n                                            part: 1\n                                        }\n\n                                    );\n                                    break;\n                                case 3:\n                                    navigation.navigate('SelectQuestion',\n                                        {\n                                            userId: null,\n                                            sheetID: sheetID,\n                                            year: moment(item).format('yyyy'),\n                                            part: 1\n                                        }\n                                    );\n                                    break;\n                                case 4:\n                                    if (USER.position != 'ผู้จัดการ') {\n                                        navigation.navigate('ManagerList', {\n                                            userId: USER.userid,\n                                                sheetID: sheetID,\n                                                year: moment(item).format('yyyy'),\n                                                part: 1\n                                        })\n                                    }\n                                    else {\n                                        navigation.navigate('StaffComment',\n                                            {\n                                                userId: USER.userid,\n                                                sheetID: sheetID,\n                                                year: moment(item).format('yyyy'),\n                                                part: 1\n                                            }\n                                        )\n                                    }\n\n                                    break;\n                                default: break;\n                            }\n                        }} >\n\n                        <Text style={{\n                            color: 'white',\n                            fontSize: 24,\n                            fontStyle: 'italic',\n                            fontWeight: 'bold',\n                            alignSelf: 'center'\n                        }}>{moment(item).format('yyyy')}-1</Text>\n\n                    </Button>\n\n                    <Button\n                        style={{\n                            backgroundColor: '#2E8B57',\n                            borderRadius: 10,\n                            marginVertical: 8,\n                            padding: 8,\n                        }}\n                        mode=\"Contained\"\n                        onPress={() => {\n                            switch (sheetID) {\n                                case 1:\n                                    navigation.navigate('Questionnaire',\n                                        {\n                                            userId: USER.userid,\n                                            sheetID: sheetID,\n                                            year: moment(item).format('yyyy'),\n                                            part: 2\n                                        }\n                                    );\n                                    break;\n\n                                case 2:\n                                    navigation.navigate('UserList',\n                                        {\n                                            userId: null,\n                                            sheetID: sheetID,\n                                            year: moment(item).format('yyyy'),\n                                            part: 2\n                                        }\n\n                                    );\n                                    break;\n                                case 3:\n                                    navigation.navigate('SelectQuestion',\n                                        {\n                                            userId: null,\n                                            sheetID: sheetID,\n                                            year: moment(item).format('yyyy'),\n                                            part: 2\n                                        }\n                                    );\n                                    break;\n                                case 4:\n                                    if (USER.position != 'ผู้จัดการ') {\n                                        navigation.navigate('ManagerList', {\n                                                userId: USER.userid,\n                                                sheetID: sheetID,\n                                                year: moment(item).format('yyyy'),\n                                                part: 2\n                                        })\n                                    }\n                                    else {\n                                        navigation.navigate('StaffComment',\n                                            {\n                                                userId: USER.userid,\n                                                sheetID: sheetID,\n                                                year: moment(item).format('yyyy'),\n                                                part: 2\n                                            }\n                                        )\n                                    };\n                                    break;\n                            }\n                        }\n                        }>\n\n                        <Text style={{\n                            color: 'white',\n                            fontSize: 24,\n                            fontStyle: 'italic',\n                            fontWeight: 'bold',\n                            alignSelf: 'center'\n                        }}>{moment(item).format('yyyy')}-2</Text>\n\n                    </Button>\n                </View>\n\n            );\n        }\n\n        return (\n            <FlatList\n                data={allYear}\n                keyExtractor={(item) => `${item}`}\n                renderItem={renderItem}\n            // horizontal\n            // showsHorizontalScrollIndicator={false}\n            />\n        );\n    }\n\n    return (\n        <Animatable.View style={{ flex: 1, backgroundColor: 'white' }}\n            animation='fadeIn'>\n            {renderYearList({ navigation })}\n        </Animatable.View>\n    );\n}\n\nconst styles = StyleSheet.create({\n\n});\n\nexport default AssessmentScreen;"]},"metadata":{},"sourceType":"module"}