{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useEffect}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import TextInput from\"react-native-web/dist/exports/TextInput\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import{FlatList}from'react-native-gesture-handler';import{TouchableOpacity}from'react-native-gesture-handler';import axiox from'axios';import{MAIN_URL,USER}from\"../constants/variables\";var ManagerListScreen=function ManagerListScreen(_ref){var navigation=_ref.navigation,route=_ref.route;var sheetID=route.params.sheetID;var year=route.params.year;var part=route.params.part;var userid=USER.userid;var position=USER.position;var department=USER.department;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setLoading=_useState4[1];useEffect(function(){setLoading(true);getManagerList();},[]);var getManagerList=function getManagerList(){axiox.get(MAIN_URL+'/users/position/ผู้จัดการ').then(function(res){setUsers(res.data);setLoading(false);}).catch(function(err){console.log(err);});};var renderUsers=function renderUsers(_ref2){var navigation=_ref2.navigation;var renderItem=function renderItem(_ref3){var item=_ref3.item;return React.createElement(TouchableOpacity,{onPress:function onPress(){navigation.navigate('StaffComment',{sheetID:sheetID,managerID:item.userid,year:year,part:part});}},React.createElement(View,{style:{backgroundColor:'white',borderWidth:0.5,padding:8,borderRadius:10,margin:4}},React.createElement(Text,{style:{fontSize:18,fontWeight:'bold',color:'blue'}},\"\\u0E0A\\u0E37\\u0E48\\u0E2D : \",item.name+\" \"+item.lastname),React.createElement(Text,{style:{fontSize:18,fontWeight:'bold',color:'red'}},\"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E40\\u0E25\\u0E48\\u0E19 : \",item.nickname),React.createElement(Text,null,\"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23 :\",item.phone),React.createElement(Text,null,\"\\u0E41\\u0E1C\\u0E19\\u0E01 : \",item.department)));};return React.createElement(FlatList,{data:users,keyExtractor:function keyExtractor(item,index){return\"\"+index;},shouldComponentUpdate:false,renderItem:renderItem});};return React.createElement(SafeAreaView,{style:{flex:1}},renderUsers({navigation:navigation}),isLoading?React.createElement(ActivityIndicator,{style:{position:'absolute',left:0,right:0,top:0,bottom:0,alignItems:'center',justifyContent:'center'},size:\"large\",color:\"#0275d8\"}):null);};export default ManagerListScreen;","map":{"version":3,"sources":["/Users/drift/Documents/ReactNative/cal-assessment/src/screens/ManagerListScreen.js"],"names":["React","useState","useEffect","FlatList","TouchableOpacity","axiox","MAIN_URL","USER","ManagerListScreen","navigation","route","sheetID","params","year","part","userid","position","department","users","setUsers","isLoading","setLoading","getManagerList","get","then","res","data","catch","err","console","log","renderUsers","renderItem","item","navigate","managerID","backgroundColor","borderWidth","padding","borderRadius","margin","fontSize","fontWeight","color","name","lastname","nickname","phone","index","flex","left","right","top","bottom","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, SafeAreaView, TextInput, StyleSheet, ActivityIndicator } from 'react-native';\nimport { FlatList } from 'react-native-gesture-handler';\nimport { TouchableOpacity } from 'react-native-gesture-handler';\n\nimport axiox from 'axios';\nimport { MAIN_URL, USER } from '../constants/variables';\n\nconst ManagerListScreen = ({ navigation, route }) => {\n    let sheetID = route.params.sheetID;\n    let year = route.params.year;\n    let part = route.params.part;\n    let userid = USER.userid;\n    let position = USER.position;\n    let department = USER.department;\n\n    const [users, setUsers] = useState([]);\n    const [isLoading, setLoading] = useState(false);\n\n    useEffect(() => {\n        setLoading(true);\n        getManagerList();\n\n    }, []);\n\n    const getManagerList = () => {\n        // console.log(MAIN_URL + '/users/position/ผู้จัดการ');\n        axiox.get(MAIN_URL + '/users/position/ผู้จัดการ')\n            .then(res => {\n                setUsers(res.data);\n                setLoading(false);\n                // setArrayholder(res.data)\n                // console.log(users);\n            })\n            .catch(err => {\n                console.log(err)\n            })\n    };\n\n    const renderUsers = ({ navigation }) => {\n\n        // console.log(users);\n\n        const renderItem = ({ item }) => {\n            return (\n                <TouchableOpacity\n                    onPress={() => {\n                        // console.log(item);\n                        // console.log(USER)\n                        navigation.navigate('StaffComment', {\n                            sheetID: sheetID,\n                            managerID: item.userid,\n                            year: year,\n                            part: part\n                        });\n                    }}>\n                    <View style={{backgroundColor: 'white', borderWidth: 0.5, padding: 8, borderRadius: 10, margin: 4 }}>\n                        <Text style={{ fontSize: 18, fontWeight: 'bold', color: 'blue' }}>\n                            ชื่อ : {item.name + \" \" + item.lastname}\n                        </Text>\n                        <Text style={{ fontSize: 18, fontWeight: 'bold', color: 'red' }}>\n                            ชื่อเล่น : {item.nickname}\n                        </Text>\n                        <Text>\n                            เบอร์โทร :{item.phone}\n                        </Text>\n                        <Text>\n                            แผนก : {item.department}\n                        </Text>\n                    </View>\n                </TouchableOpacity>\n            );\n        }\n\n        return (\n            <FlatList\n                data={users}\n                keyExtractor={(item, index) => `${index}`}\n                // ItemSeparatorComponent={itemSeparator}\n                shouldComponentUpdate={false}\n                renderItem={renderItem}\n            // horizontal\n            // showsHorizontalScrollIndicator={false}\n            />\n\n        );\n    }\n\n    return (\n        <SafeAreaView style={{ flex: 1 }}>\n\n            {/* <TextInput\n                style={styles.textInput}\n                onChangeText={(text) => searchData(text)}\n                value={text}\n                underlineColorAndroid='transparent'\n                placeholder=\"ค้นหาจากชื่อเล่น\" /> */}\n\n            {/* {position === 'admin' ?\n                <View style={{ borderBottomWidth: 0.5, borderBottomColor: 'gray' }}>\n                    <Text style={{ marginHorizontal: 8, marginBottom: 8, }}>จำนวนคนตอบคำถามครบ {users.length} คน</Text>\n                </View>\n                :\n                null} */}\n\n\n            {renderUsers({ navigation })}\n\n            {isLoading ?\n\n                <ActivityIndicator style={{\n\n                    position: 'absolute',\n                    left: 0,\n                    right: 0,\n                    top: 0,\n                    bottom: 0,\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                }} size=\"large\" color=\"#0275d8\" />\n                :\n                null\n            }\n\n        </SafeAreaView>\n\n    );\n};\n\nexport default ManagerListScreen;"]},"metadata":{},"sourceType":"module"}