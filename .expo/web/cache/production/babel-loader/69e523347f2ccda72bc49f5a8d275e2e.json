{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _extends from\"@babel/runtime/helpers/extends\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"scrollPosition\",\"dimensions\",\"vertical\",\"sliderWidth\",\"sliderHeight\",\"parallaxFactor\",\"style\",\"AnimatedImageComponent\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import View from\"react-native-web/dist/exports/View\";import{ViewPropTypes}from\"react-native-web/dist/index\";import Image from\"react-native-web/dist/exports/Image\";import Animated from\"react-native-web/dist/exports/Animated\";import Easing from\"react-native-web/dist/exports/Easing\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import findNodeHandle from\"react-native-web/dist/exports/findNodeHandle\";import PropTypes from'prop-types';import styles from\"./ParallaxImage.style\";var ParallaxImage=function(_Component){_inherits(ParallaxImage,_Component);var _super=_createSuper(ParallaxImage);function ParallaxImage(props){var _this;_classCallCheck(this,ParallaxImage);_this=_super.call(this,props);_this.state={offset:0,width:0,height:0,status:1,animOpacity:new Animated.Value(0)};_this._onLoad=_this._onLoad.bind(_assertThisInitialized(_this));_this._onError=_this._onError.bind(_assertThisInitialized(_this));_this._measureLayout=_this._measureLayout.bind(_assertThisInitialized(_this));return _this;}_createClass(ParallaxImage,[{key:\"setNativeProps\",value:function setNativeProps(nativeProps){this._container.setNativeProps(nativeProps);}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this._mounted=true;setTimeout(function(){_this2._measureLayout();},0);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._mounted=false;}},{key:\"_measureLayout\",value:function _measureLayout(){var _this3=this;if(this._container){var _this$props=this.props,dimensions=_this$props.dimensions,vertical=_this$props.vertical,carouselRef=_this$props.carouselRef,sliderWidth=_this$props.sliderWidth,sliderHeight=_this$props.sliderHeight,itemWidth=_this$props.itemWidth,itemHeight=_this$props.itemHeight;if(carouselRef){this._container.measureLayout(findNodeHandle(carouselRef),function(x,y,width,height,pageX,pageY){var offset=vertical?y-(sliderHeight-itemHeight)/2:x-(sliderWidth-itemWidth)/2;_this3.setState({offset:offset,width:dimensions&&dimensions.width?dimensions.width:Math.ceil(width),height:dimensions&&dimensions.height?dimensions.height:Math.ceil(height)});});}}}},{key:\"_onLoad\",value:function _onLoad(event){var _this4=this;var animOpacity=this.state.animOpacity;var _this$props2=this.props,fadeDuration=_this$props2.fadeDuration,onLoad=_this$props2.onLoad;if(!this._mounted){return;}this.setState({status:2});if(onLoad){onLoad(event);}Animated.timing(animOpacity,{toValue:1,duration:fadeDuration,easing:Easing.out(Easing.quad),isInteraction:false,useNativeDriver:true}).start(function(){_this4.setState({status:3});});}},{key:\"_onError\",value:function _onError(event){var onError=this.props.onError;this.setState({status:4});if(onError){onError(event);}}},{key:\"image\",get:function get(){var _this$state=this.state,status=_this$state.status,animOpacity=_this$state.animOpacity,offset=_this$state.offset,width=_this$state.width,height=_this$state.height;var _this$props3=this.props,scrollPosition=_this$props3.scrollPosition,dimensions=_this$props3.dimensions,vertical=_this$props3.vertical,sliderWidth=_this$props3.sliderWidth,sliderHeight=_this$props3.sliderHeight,parallaxFactor=_this$props3.parallaxFactor,style=_this$props3.style,AnimatedImageComponent=_this$props3.AnimatedImageComponent,other=_objectWithoutProperties(_this$props3,_excluded);var parallaxPadding=(vertical?height:width)*parallaxFactor;var requiredStyles={position:'relative'};var dynamicStyles={width:vertical?width:width+parallaxPadding*2,height:vertical?height+parallaxPadding*2:height,opacity:animOpacity,transform:scrollPosition?[{translateX:!vertical?scrollPosition.interpolate({inputRange:[offset-sliderWidth,offset+sliderWidth],outputRange:[-parallaxPadding,parallaxPadding],extrapolate:'clamp'}):0},{translateY:vertical?scrollPosition.interpolate({inputRange:[offset-sliderHeight,offset+sliderHeight],outputRange:[-parallaxPadding,parallaxPadding],extrapolate:'clamp'}):0}]:[]};return React.createElement(AnimatedImageComponent,_extends({},other,{style:[styles.image,style,requiredStyles,dynamicStyles],onLoad:this._onLoad,onError:status!==3?this._onError:undefined}));}},{key:\"spinner\",get:function get(){var status=this.state.status;var _this$props4=this.props,showSpinner=_this$props4.showSpinner,spinnerColor=_this$props4.spinnerColor;return status===1&&showSpinner?React.createElement(View,{style:styles.loaderContainer},React.createElement(ActivityIndicator,{size:'small',color:spinnerColor,animating:true})):false;}},{key:\"render\",value:function render(){var _this5=this;var containerStyle=this.props.containerStyle;return React.createElement(View,{ref:function ref(c){_this5._container=c;},pointerEvents:'none',style:[containerStyle,styles.container],onLayout:this._measureLayout},this.image,this.spinner);}}]);return ParallaxImage;}(Component);ParallaxImage.propTypes=_objectSpread(_objectSpread({},Image.propTypes),{},{carouselRef:PropTypes.object,itemHeight:PropTypes.number,itemWidth:PropTypes.number,scrollPosition:PropTypes.object,sliderHeight:PropTypes.number,sliderWidth:PropTypes.number,vertical:PropTypes.bool,containerStyle:ViewPropTypes?ViewPropTypes.style:View.propTypes.style,dimensions:PropTypes.shape({width:PropTypes.number,height:PropTypes.number}),fadeDuration:PropTypes.number,parallaxFactor:PropTypes.number,showSpinner:PropTypes.bool,spinnerColor:PropTypes.string,AnimatedImageComponent:PropTypes.oneOfType([PropTypes.func,PropTypes.object])});ParallaxImage.defaultProps={containerStyle:{},fadeDuration:500,parallaxFactor:0.3,showSpinner:true,spinnerColor:'rgba(0, 0, 0, 0.4)',AnimatedImageComponent:Animated.Image};export{ParallaxImage as default};","map":{"version":3,"sources":["/Users/drift/Documents/ReactNative/cal-assessment/node_modules/react-native-snap-carousel/src/parallaximage/ParallaxImage.js"],"names":["React","Component","ViewPropTypes","PropTypes","styles","ParallaxImage","props","state","offset","width","height","status","animOpacity","Animated","Value","_onLoad","bind","_onError","_measureLayout","nativeProps","_container","setNativeProps","_mounted","setTimeout","dimensions","vertical","carouselRef","sliderWidth","sliderHeight","itemWidth","itemHeight","measureLayout","findNodeHandle","x","y","pageX","pageY","setState","Math","ceil","event","fadeDuration","onLoad","timing","toValue","duration","easing","Easing","out","quad","isInteraction","useNativeDriver","start","onError","scrollPosition","parallaxFactor","style","AnimatedImageComponent","other","parallaxPadding","requiredStyles","position","dynamicStyles","opacity","transform","translateX","interpolate","inputRange","outputRange","extrapolate","translateY","image","undefined","showSpinner","spinnerColor","loaderContainer","containerStyle","c","container","spinner","propTypes","Image","object","number","bool","View","shape","string","oneOfType","func","defaultProps"],"mappings":"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","sourcesContent":["// Parallax effect inspired by https://github.com/oblador/react-native-parallax/\n\nimport React, { Component } from 'react';\nimport { View, ViewPropTypes, Image, Animated, Easing, ActivityIndicator, findNodeHandle } from 'react-native';\nimport PropTypes from 'prop-types';\nimport styles from './ParallaxImage.style';\n\nexport default class ParallaxImage extends Component {\n\n    static propTypes = {\n        ...Image.propTypes,\n        carouselRef: PropTypes.object, // passed from <Carousel />\n        itemHeight: PropTypes.number, // passed from <Carousel />\n        itemWidth: PropTypes.number, // passed from <Carousel />\n        scrollPosition: PropTypes.object, // passed from <Carousel />\n        sliderHeight: PropTypes.number, // passed from <Carousel />\n        sliderWidth: PropTypes.number, // passed from <Carousel />\n        vertical: PropTypes.bool, // passed from <Carousel />\n        containerStyle: ViewPropTypes ? ViewPropTypes.style : View.propTypes.style,\n        dimensions: PropTypes.shape({\n            width: PropTypes.number,\n            height: PropTypes.number\n        }),\n        fadeDuration: PropTypes.number,\n        parallaxFactor: PropTypes.number,\n        showSpinner: PropTypes.bool,\n        spinnerColor: PropTypes.string,\n        AnimatedImageComponent: PropTypes.oneOfType([\n            PropTypes.func,\n            PropTypes.object\n        ])\n    };\n\n    static defaultProps = {\n        containerStyle: {},\n        fadeDuration: 500,\n        parallaxFactor: 0.3,\n        showSpinner: true,\n        spinnerColor: 'rgba(0, 0, 0, 0.4)',\n        AnimatedImageComponent: Animated.Image\n    }\n\n    constructor (props) {\n        super(props);\n        this.state = {\n            offset: 0,\n            width: 0,\n            height: 0,\n            status: 1, // 1 -> loading; 2 -> loaded // 3 -> transition finished; 4 -> error\n            animOpacity: new Animated.Value(0)\n        };\n        this._onLoad = this._onLoad.bind(this);\n        this._onError = this._onError.bind(this);\n        this._measureLayout = this._measureLayout.bind(this);\n    }\n\n    setNativeProps (nativeProps) {\n        this._container.setNativeProps(nativeProps);\n    }\n\n    componentDidMount () {\n        this._mounted = true;\n\n        setTimeout(() => {\n            this._measureLayout();\n        }, 0);\n    }\n\n    componentWillUnmount () {\n        this._mounted = false;\n    }\n\n    _measureLayout () {\n        if (this._container) {\n            const {\n                dimensions,\n                vertical,\n                carouselRef,\n                sliderWidth,\n                sliderHeight,\n                itemWidth,\n                itemHeight\n            } = this.props;\n\n            if (carouselRef) {\n                this._container.measureLayout(\n                    findNodeHandle(carouselRef),\n                    (x, y, width, height, pageX, pageY) => {\n                        const offset = vertical ?\n                            y - ((sliderHeight - itemHeight) / 2) :\n                            x - ((sliderWidth - itemWidth) / 2);\n\n                        this.setState({\n                            offset: offset,\n                            width: dimensions && dimensions.width ?\n                                dimensions.width :\n                                Math.ceil(width),\n                            height: dimensions && dimensions.height ?\n                                dimensions.height :\n                                Math.ceil(height)\n                        });\n                    }\n                );\n            }\n        }\n    }\n\n    _onLoad (event) {\n        const { animOpacity } = this.state;\n        const { fadeDuration, onLoad } = this.props;\n\n        if (!this._mounted) {\n            return;\n        }\n\n        this.setState({ status: 2 });\n\n        if (onLoad) {\n            onLoad(event);\n        }\n\n        Animated.timing(animOpacity, {\n            toValue: 1,\n            duration: fadeDuration,\n            easing: Easing.out(Easing.quad),\n            isInteraction: false,\n            useNativeDriver: true\n        }).start(() => {\n            this.setState({ status: 3 });\n        });\n    }\n\n    // If arg is missing from method signature, it just won't be called\n    _onError (event) {\n        const { onError } = this.props;\n\n        this.setState({ status: 4 });\n\n        if (onError) {\n            onError(event);\n        }\n    }\n\n    get image () {\n        const { status, animOpacity, offset, width, height } = this.state;\n        const {\n            scrollPosition,\n            dimensions,\n            vertical,\n            sliderWidth,\n            sliderHeight,\n            parallaxFactor,\n            style,\n            AnimatedImageComponent,\n            ...other\n        } = this.props;\n\n        const parallaxPadding = (vertical ? height : width) * parallaxFactor;\n        const requiredStyles = { position: 'relative' };\n        const dynamicStyles = {\n            width: vertical ? width : width + parallaxPadding * 2,\n            height: vertical ? height + parallaxPadding * 2 : height,\n            opacity: animOpacity,\n            transform: scrollPosition ? [\n                {\n                    translateX: !vertical ? scrollPosition.interpolate({\n                        inputRange: [offset - sliderWidth, offset + sliderWidth],\n                        outputRange: [-parallaxPadding, parallaxPadding],\n                        extrapolate: 'clamp'\n                    }) : 0\n                },\n                {\n                    translateY: vertical ? scrollPosition.interpolate({\n                        inputRange: [offset - sliderHeight, offset + sliderHeight],\n                        outputRange: [-parallaxPadding, parallaxPadding],\n                        extrapolate: 'clamp'\n                    }) : 0\n                }\n            ] : []\n        };\n\n        return (\n            <AnimatedImageComponent\n              {...other}\n              style={[styles.image, style, requiredStyles, dynamicStyles]}\n              onLoad={this._onLoad}\n              onError={status !== 3 ? this._onError : undefined} // prevent infinite-loop bug\n            />\n        );\n    }\n\n    get spinner () {\n        const { status } = this.state;\n        const { showSpinner, spinnerColor } = this.props;\n\n        return status === 1 && showSpinner ? (\n            <View style={styles.loaderContainer}>\n                <ActivityIndicator\n                  size={'small'}\n                  color={spinnerColor}\n                  animating={true}\n                />\n            </View>\n        ) : false;\n    }\n\n    render () {\n        const { containerStyle } = this.props;\n\n        return (\n            <View\n              ref={(c) => { this._container = c; }}\n              pointerEvents={'none'}\n              style={[containerStyle, styles.container]}\n              onLayout={this._measureLayout}\n            >\n                { this.image }\n                { this.spinner }\n            </View>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}